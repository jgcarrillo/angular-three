"use strict";(self.webpackChunksandbox=self.webpackChunksandbox||[]).push([[871],{5460:(fr,mt,X)=>{X.d(mt,{v:()=>ee.v});var ee=X(4911)},4911:(fr,mt,X)=>{X.d(mt,{U:()=>kt,v:()=>Mt});var ee=X(7017),Dt=X(5359),$e=X(1858);const j=["object",""],wt=["*"];let kt=(()=>{class E extends ee.Jy{constructor(){super(...arguments),this.object$=this.select(Ie=>Ie.object).pipe((0,Dt.h)(Ie=>null!=Ie)),this.isPrimitive=!0}set object(Ie){ee.is.ref(Ie)?(this.ref=Ie,this.set({object:Ie.value})):this.set({object:Ie})}get object(){return this.get(Ie=>Ie.object)}objectInitFn(){return this.object}get preObjectInit(){return Ie=>{this.effect((0,ee.oe)(()=>{Ie()}))(this.object$)}}}return E.\u0275fac=function(){let ge;return function(ut){return(ge||(ge=$e.n5z(E)))(ut||E)}}(),E.\u0275cmp=$e.Xpm({type:E,selectors:[["ngt-primitive","object",""]],inputs:{object:"object"},features:[$e._Bn([(0,ee.Q2)(E)]),$e.qOj],attrs:j,ngContentSelectors:wt,decls:1,vars:0,template:function(Ie,ut){1&Ie&&($e.F$t(),$e.Hsn(0))},encapsulation:2,changeDetection:0}),E})(),Mt=(()=>{class E{}return E.\u0275fac=function(Ie){return new(Ie||E)},E.\u0275mod=$e.oAB({type:E}),E.\u0275inj=$e.cJS({}),E})()},6871:(fr,mt,X)=>{X.d(mt,{co:()=>ze.co,gV:()=>Vt.gV,GG:()=>Vo.GG}),X(7017),X(5936),X(8187),X(5648),X(5460),X(258),X(4911);var ze=X(6632),Vt=X(2155);X(8649),X(1412),X(2610),X(752),X(233),X(4926),X(3725),X(5520),X(3704),X(2761),X(4479),X(5413),X(421),new(X(6963).Pa4);var Vo=X(286)},6632:(fr,mt,X)=>{X.d(mt,{xy:()=>ze,EE:()=>er,co:()=>Vt});var ee=X(7017),Dt=X(5936),$e=X(1445),j=X(1858);const wt=["*"];let kt=(()=>{class de extends $e.pB{constructor(){super(...arguments),this.setDefaultCamera=this.effect((0,ee.oe)(()=>{const z=this.store.get(F=>F.camera),ye=this.store.get(F=>F.cameraRef),Ne=this.get(F=>F.makeDefault);if(this.instance.value&&Ne){const F=z;return this.store.set({camera:this.instance.value}),ye.set(this.instance.value),()=>{this.store.set({camera:F}),ye.set(F)}}}))}set makeDefault(z){this.set({makeDefault:(0,ee.Ig)(z)})}set manual(z){this.set({manual:(0,ee.Ig)(z)})}get preObjectInit(){return z=>{const ye=this.store.get(Ne=>Ne.size);this.set(Ne=>({left:ye.width/-2,right:ye.width/2,top:ye.height/2,bottom:ye.height/-2,near:Ne.near,far:Ne.far})),z()}}get setOptionsTrigger$(){return this.select(z=>z.manual).pipe((0,ee.Xb)())}postSetOptions(z){this.get(Ne=>Ne.manual)||z.updateProjectionMatrix()}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.onCanvasReady(this.store.ready$,()=>{this.setDefaultCamera(this.select(this.instance$,this.select(z=>z.makeDefault)))})})}}return de.\u0275fac=function(){let Ee;return function(ye){return(Ee||(Ee=j.n5z(de)))(ye||de)}}(),de.\u0275cmp=j.Xpm({type:de,selectors:[["ngt-soba-orthographic-camera"]],inputs:{makeDefault:"makeDefault",manual:"manual"},features:[j._Bn([(0,ee.dF)(de)]),j.qOj],ngContentSelectors:wt,decls:1,vars:0,template:function(z,ye){1&z&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),de})(),Mt=(()=>{class de{}return de.\u0275fac=function(z){return new(z||de)},de.\u0275mod=j.oAB({type:de}),de.\u0275inj=j.cJS({}),de})();var ut=X(8427),it=X(8289),Zt=X(5035),At=X(1487),qt=X(5359),vt=X(6963),$t=X(4315),Et=X(8187),bt=X(5648);const yt=function(de){return{gizmo:de}};function Lt(de,Ee){if(1&de&&j.GkF(0,6),2&de){const z=j.oxw(3);j.Q6J("ngTemplateOutlet",z.content.templateRef)("ngTemplateOutletContext",j.VKq(2,yt,z.instance))}}const _t=function(){return[0,0,200]};function or(de,Ee){if(1&de){const z=j.EpF();j.TgZ(0,"ngt-group",3),j.NdJ("beforeRender",function(Ne){return j.CHM(z),j.oxw(2).beforeRender.emit(Ne)}),j.ALo(1,"async"),j.YNc(2,Lt,1,4,"ng-container",4),j.qZA(),j._UZ(3,"ngt-soba-orthographic-camera",5)}if(2&de){const z=j.oxw(2);j.Q6J("ngtObjectInputs",z)("ngtObjectOutputs",z)("position",j.lcZ(1,6,z.position$)),j.xp6(2),j.Q6J("ngIf",z.content),j.xp6(1),j.Q6J("ref",z.virtualCamera)("position",j.DdM(8,_t))}}function Ut(de,Ee){if(1&de&&(j.TgZ(0,"ngt-portal",1),j.YNc(1,or,4,9,"ng-template",2),j.qZA()),2&de){const z=j.oxw();j.Q6J("ref",z.virtualScene)}}let er=(()=>{class de{constructor(z){this.templateRef=z}static ngTemplateContextGuard(z,ye){return!0}}return de.\u0275fac=function(z){return new(z||de)(j.Y36(j.Rgc))},de.\u0275dir=j.lG2({type:de,selectors:[["ng-template","ngt-soba-gizmo-helper-content",""]]}),de})();const Rt=2*Math.PI,St=new vt.Tme,Bt=(0,ee.Sy)(vt.yGw),[pt,It]=[(0,ee.Sy)(vt._fP),(0,ee.Sy)(vt._fP)],zt=(0,ee.Ut)(),Gt=(0,ee.Ut)();let ze=(()=>{class de extends ee.Fq{constructor(){super(...arguments),this.ready$=(0,it.H)(250).pipe((0,Zt.U)(()=>!0)),this.beforeRender=new j.vpe,this.update=new j.vpe,this.position$=this.select(this.select(z=>z.margin),this.select(z=>z.alignment),this.store.select(z=>z.size),([z,ye],Ne,F)=>{const Se=Ne.endsWith("-left")?-F.width/2+z:F.width/2-z,y=Ne.startsWith("top-")?F.height/2-ye:-F.height/2+ye;return(0,ee.Ut)([Se,y,0])}),this.animating=!1,this.focusPoint=(0,ee.Ut)([0,0,0]),this.radius=0,this.switchSceneBackground=this.effect((0,ee.oe)(()=>{let z;const ye=this.store.get(F=>F.scene),Ne=this.get(F=>F.virtualScene);return ye.background&&(z=ye.background,ye.background=null,Ne.value.background=z),()=>{z&&(ye.background=z)}})),this.setBeforeRender=this.effect((0,ee.oe)(()=>{const z=this.get(Ne=>Ne.renderPriority),ye=this.store.get(Ne=>Ne.gl);return this.store.registerBeforeRender({callback:({delta:Ne})=>{var F;const Se=this.instance,{camera:y,controls:te,invalidate:Je}=this.store.get(),{virtualScene:Re,virtualCamera:at,autoClear:Ft}=this.get();Se.value&&Re.value&&at.value&&(this.animating&&(pt.angleTo(It)<.01?this.animating=!1:(pt.rotateTowards(It,Ne*Rt),y.position.set(0,0,1).applyQuaternion(pt).multiplyScalar(this.radius).add(this.focusPoint),y.up.set(0,1,0).applyQuaternion(pt).normalize(),y.quaternion.copy(pt),this.update.observed?this.update.emit():te&&te.update(),Je())),Bt.copy(y.matrix).invert(),null===(F=Se.value)||void 0===F||F.quaternion.setFromRotationMatrix(Bt),Ft&&(ye.autoClear=!1),ye.clearDepth(),ye.render(Re.value,at.value))},priority:z})})),this.setRaycast=this.effect((0,At.b)(z=>{const ye=this.store.get(F=>F.pointer),Ne=new vt.iMs;this.set({raycast:function(F,Se){Ne.setFromCamera(ye,z);const y=this.constructor.prototype.raycast.bind(this);y&&y(Ne,Se)}})})),this.tweenCamera=this.effect((0,At.b)(z=>{this.animating=!0;const{controls:ye,camera:Ne,invalidate:F}=this.store.get();ye&&(this.focusPoint=ye.target),this.radius=Ne.position.distanceTo(zt),pt.copy(Ne.quaternion),Gt.copy(z).multiplyScalar(this.radius).add(zt),St.lookAt(Gt),It.copy(St.quaternion),F()}))}set alignment(z){this.set({alignment:z})}set margin(z){this.set({margin:z})}set renderPriority(z){this.set({renderPriority:z})}set autoClear(z){this.set({autoClear:(0,ee.Ig)(z)})}get virtualScene(){return this.get(z=>z.virtualScene)}get virtualCamera(){return this.get(z=>z.virtualCamera)}preInit(){super.preInit(),this.set(z=>{var ye,Ne,F,Se;return{virtualCamera:new ee.Rl,virtualScene:new ee.Rl((0,ee.Pl)(new vt.xsS,()=>this.store.get())),alignment:null!==(ye=z.alignment)&&void 0!==ye?ye:"bottom-right",margin:null!==(Ne=z.margin)&&void 0!==Ne?Ne:[80,80],renderPriority:null!==(F=z.renderPriority)&&void 0!==F?F:0,autoClear:null===(Se=z.autoClear)||void 0===Se||Se}})}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.onCanvasReady(this.store.ready$,()=>{this.switchSceneBackground(),this.setBeforeRender(),this.setRaycast(this.get(z=>z.virtualCamera).pipe((0,qt.h)(z=>!!z)))})})}}return de.\u0275fac=function(){let Ee;return function(ye){return(Ee||(Ee=j.n5z(de)))(ye||de)}}(),de.\u0275cmp=j.Xpm({type:de,selectors:[["ngt-soba-gizmo-helper"]],contentQueries:function(z,ye,Ne){if(1&z&&j.Suo(Ne,er,5),2&z){let F;j.iGM(F=j.CRH())&&(ye.content=F.first)}},inputs:{alignment:"alignment",margin:"margin",renderPriority:"renderPriority",autoClear:"autoClear"},outputs:{beforeRender:"beforeRender",update:"update"},features:[j._Bn([(0,ee.Hm)(de)]),j.qOj],decls:2,vars:3,consts:[[3,"ref",4,"ngIf"],[3,"ref"],["ngt-portal-content",""],[3,"ngtObjectInputs","ngtObjectOutputs","position","beforeRender"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ref","position"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(z,ye){1&z&&(j.YNc(0,Ut,2,1,"ngt-portal",0),j.ALo(1,"async")),2&z&&j.Q6J("ngIf",j.lcZ(1,1,ye.ready$))},directives:[ut.O5,$t.WS,$t.ZQ,Et.U,bt.V,ut.tP,kt],pipes:[ut.Ov],encapsulation:2,changeDetection:0}),de})(),Vt=(()=>{class de{}return de.\u0275fac=function(z){return new(z||de)},de.\u0275mod=j.oAB({type:de}),de.\u0275inj=j.cJS({imports:[[ee.yh,Dt.I,ee.y2,ut.ez,Mt]]}),de})()},2155:(fr,mt,X)=>{X.d(mt,{OS:()=>ye,gV:()=>Ne});var ee=X(7017),Dt=X(8649),$e=X(5936),j=X(1412),wt=X(258),kt=X(2610),Mt=X(8427),E=X(1858),ge=X(3255),Ie=X(6963),ut=X(6632),it=X(2384),Zt=X(752),At=X(233),qt=X(9804),vt=X(4926),$t=X(8187),Et=X(5520),bt=X(3704);const yt=["hover","","index",""],Lt=function(F){return["material",F]};function _t(F,Se){if(1&F&&E._UZ(0,"ngt-soba-gizmo-face-material",2),2&F){const y=Se.$implicit,te=E.oxw();E.Q6J("hover",te.hover===y)("index",y)("ngtSobaGizmoViewCubeGenericPassThrough",te)}}const or=["dimensions","","position",""];function Ut(F,Se){if(1&F&&E._UZ(0,"ngt-soba-gizmo-edge-cube",5),2&F){const y=Se.$implicit,te=Se.index,Je=E.oxw();E.Q6J("position",y)("dimensions",Je.edgeDimensions[te])("ngtSobaGizmoViewCubeGenericPassThrough",Je)}}function er(F,Se){if(1&F&&E._UZ(0,"ngt-soba-gizmo-edge-cube",5),2&F){const y=Se.$implicit,te=E.oxw();E.Q6J("position",y)("dimensions",te.cornerDimensions)("ngtSobaGizmoViewCubeGenericPassThrough",te)}}const Rt=F=>(0,ee.Ut)(F).multiplyScalar(.38),Bt=["Right","Left","Top","Bottom","Front","Back"],pt=[[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]].map(Rt),It=[.25,.25,.25],zt=[[1,1,0],[1,0,1],[1,0,-1],[1,-1,0],[0,1,1],[0,1,-1],[0,-1,1],[0,-1,-1],[-1,1,0],[-1,0,1],[-1,0,-1],[-1,-1,0]].map(Rt),Gt=zt.map(F=>F.toArray().map(Se=>0==Se?.5:.25));let ze=(()=>{class F extends ee.WZ{constructor(y,te,Je,Re,at){if(!at)throw new Error("<ngt-soba-gizmo-viewcube> can only be used in <ngt-soba-gizmo-helper>");super(y,te,Je,Re),this.gizmoHelper=at,this.click=new E.vpe}set font(y){this.set({font:y})}get font(){return this.get(y=>y.font)}set opacity(y){this.set({opacity:(0,ee.su)(y)})}get opacity(){return this.get(y=>y.opacity)}set color(y){this.set({color:y})}get color(){return this.get(y=>y.color)}set hoverColor(y){this.set({hoverColor:y})}get hoverColor(){return this.get(y=>y.hoverColor)}set textColor(y){this.set({textColor:y})}get textColor(){return this.get(y=>y.textColor)}set strokeColor(y){this.set({strokeColor:y})}get strokeColor(){return this.get(y=>y.strokeColor)}set faces(y){this.set({faces:y})}get faces(){return this.get(y=>y.faces)}get raycast(){return this.gizmoHelper.get(y=>y.raycast)}preInit(){super.preInit(),this.set(y=>{var te,Je,Re,at,Ft,Pt,st;return{font:null!==(te=y.font)&&void 0!==te?te:"20px Inter var, Arial, sans-serif",faces:null!==(Je=y.faces)&&void 0!==Je?Je:Bt,color:null!==(Re=y.color)&&void 0!==Re?Re:"#f0f0f0",hoverColor:null!==(at=y.hoverColor)&&void 0!==at?at:"#999",textColor:null!==(Ft=y.textColor)&&void 0!==Ft?Ft:"black",strokeColor:null!==(Pt=y.strokeColor)&&void 0!==Pt?Pt:"black",opacity:null!==(st=y.opacity)&&void 0!==st?st:1}})}}return F.\u0275fac=function(y){return new(y||F)(E.Y36(E.R0b),E.Y36(ee.W7),E.Y36(ee.Dh,12),E.Y36(ee.cY,12),E.Y36(ut.xy,8))},F.\u0275dir=E.lG2({type:F,inputs:{font:"font",opacity:"opacity",color:"color",hoverColor:"hoverColor",textColor:"textColor",strokeColor:"strokeColor",faces:"faces"},outputs:{click:"click"},features:[E.qOj]}),F})(),Vt=(()=>{class F{constructor(y){this.host=y}set ngtSobaGizmoViewCubeGenericPassThrough(y){this.assertWrapper(y),y.select(y.select(te=>te.font).pipe((0,ee.Xb)()),y.select(te=>te.opacity).pipe((0,ee.Xb)()),y.select(te=>te.color).pipe((0,ee.Xb)()),y.select(te=>te.hoverColor).pipe((0,ee.Xb)()),y.select(te=>te.textColor).pipe((0,ee.Xb)()),y.select(te=>te.strokeColor).pipe((0,ee.Xb)()),y.select(te=>te.faces).pipe((0,ee.Xb)())).pipe((0,ge.R)(y.destroy$)).subscribe(()=>{this.host.font=y.font,this.host.opacity=y.opacity,this.host.color=y.color,this.host.hoverColor=y.hoverColor,this.host.textColor=y.textColor,this.host.strokeColor=y.strokeColor,this.host.faces=y.faces}),y.click.observed&&this.host.click.pipe((0,ge.R)(y.destroy$)).subscribe(y.click.emit.bind(y.click))}assertWrapper(y){if(!(y instanceof ze))throw new Error("[NgtSobaGizmoViewCubePassThrough] wrapper is not an NgtSobaGizmoViewCubeGeneric")}}return F.\u0275fac=function(y){return new(y||F)(E.Y36(ze,10))},F.\u0275dir=E.lG2({type:F,selectors:[["","ngtSobaGizmoViewCubeGenericPassThrough",""]],inputs:{ngtSobaGizmoViewCubeGenericPassThrough:"ngtSobaGizmoViewCubeGenericPassThrough"}}),F})(),de=(()=>{class F extends ze{constructor(){super(...arguments),this.texture$=this.select(this.select(y=>y.index),this.select(y=>y.faces),this.select(y=>y.font),this.select(y=>y.color),this.select(y=>y.textColor),this.select(y=>y.strokeColor),()=>{const y=this.store.get(dr=>dr.gl),{color:te,strokeColor:Je,textColor:Re,font:at,faces:Ft,index:Pt}=this.get(),st=document.createElement("canvas");st.width=128,st.height=128;const xt=st.getContext("2d");xt.fillStyle=te,xt.fillRect(0,0,st.width,st.height),xt.strokeStyle=Je,xt.strokeRect(0,0,st.width,st.height),xt.font=at,xt.textAlign="center",xt.fillStyle=Re,xt.fillText(Ft[Pt].toUpperCase(),64,76);const tr=new Ie.ROQ(st);return tr.encoding=y.outputEncoding,tr.anisotropy=y.capabilities.getMaxAnisotropy()||1,tr})}set hover(y){this.set({hover:(0,ee.Ig)(y)})}get hover(){return this.get(y=>y.hover)}set index(y){this.set({index:(0,ee.su)(y)})}get index(){return this.get(y=>y.index)}}return F.\u0275fac=function(){let Se;return function(te){return(Se||(Se=E.n5z(F)))(te||F)}}(),F.\u0275cmp=E.Xpm({type:F,selectors:[["ngt-soba-gizmo-face-material","hover","","index",""]],inputs:{hover:"hover",index:"index"},features:[E._Bn([{provide:ze,useExisting:F}]),E.qOj],attrs:yt,decls:2,vars:9,consts:[["transparent","",3,"ref","map","attach","color","opacity"]],template:function(y,te){1&y&&(E._UZ(0,"ngt-mesh-lambert-material",0),E.ALo(1,"async")),2&y&&E.Q6J("ref",te.instance)("map",E.lcZ(1,5,te.texture$))("attach",E.VKq(7,Lt,""+te.index))("color",te.hover?te.hoverColor:"white")("opacity",te.opacity)},directives:[it.s],pipes:[Mt.Ov],encapsulation:2,changeDetection:0}),F})(),Ee=(()=>{class F extends ze{constructor(){super(...arguments),this.hover=-1}onClick(y){this.click.observed?this.click.emit(y):(y.stopPropagation(),this.gizmoHelper.tweenCamera(y.face.normal))}onPointerOut(y){y.stopPropagation(),this.hover=-1}onPointerMove(y){y.stopPropagation(),this.hover=Math.floor(y.faceIndex/2)}}return F.\u0275fac=function(){let Se;return function(te){return(Se||(Se=E.n5z(F)))(te||F)}}(),F.\u0275cmp=E.Xpm({type:F,selectors:[["ngt-soba-gizmo-face-cube"]],features:[E._Bn([{provide:ze,useExisting:F}]),E.qOj],decls:3,vars:2,consts:[[3,"raycast","click","pointerout","pointermove"],[3,"hover","index","ngtSobaGizmoViewCubeGenericPassThrough",4,"ngFor","ngForRepeat"],[3,"hover","index","ngtSobaGizmoViewCubeGenericPassThrough"]],template:function(y,te){1&y&&(E.TgZ(0,"ngt-mesh",0),E.NdJ("click",function(Re){return te.onClick(Re)})("pointerout",function(Re){return te.onPointerOut(Re)})("pointermove",function(Re){return te.onPointerMove(Re)}),E._UZ(1,"ngt-box-geometry"),E.YNc(2,_t,1,3,"ngt-soba-gizmo-face-material",1),E.qZA()),2&y&&(E.Q6J("raycast",te.raycast),E.xp6(2),E.Q6J("ngForRepeat",6))},directives:[Zt.o,At.g,qt.l,de,Vt],encapsulation:2,changeDetection:0}),F})(),z=(()=>{class F extends ze{constructor(){super(...arguments),this.hover=!1}set dimensions(y){this.set({dimensions:y})}get dimensions(){return this.get(y=>y.dimensions)}set position(y){this.set({position:y})}get position(){return this.get(y=>y.position)}onClick(y){this.click.observed?this.click.emit(y):(y.stopPropagation(),this.gizmoHelper.tweenCamera((0,ee.Ut)(this.position)))}onPointerOut(y){y.stopPropagation(),this.hover=!1}onPointerOver(y){y.stopPropagation(),this.hover=!0}}return F.\u0275fac=function(){let Se;return function(te){return(Se||(Se=E.n5z(F)))(te||F)}}(),F.\u0275cmp=E.Xpm({type:F,selectors:[["ngt-soba-gizmo-edge-cube","dimensions","","position",""]],inputs:{dimensions:"dimensions",position:"position"},features:[E._Bn([{provide:ze,useExisting:F}]),E.qOj],attrs:or,decls:3,vars:6,consts:[[3,"scale","position","raycast","click","pointerout","pointerover"],[3,"args"],["transparent","","opacity","0.6",3,"color","visible"]],template:function(y,te){1&y&&(E.TgZ(0,"ngt-mesh",0),E.NdJ("click",function(Re){return te.onClick(Re)})("pointerout",function(Re){return te.onPointerOut(Re)})("pointerover",function(Re){return te.onPointerOver(Re)}),E._UZ(1,"ngt-box-geometry",1)(2,"ngt-mesh-basic-material",2),E.qZA()),2&y&&(E.Q6J("scale",1.01)("position",te.position)("raycast",te.raycast),E.xp6(1),E.Q6J("args",te.dimensions),E.xp6(1),E.Q6J("color",te.hover?te.hoverColor:"white")("visible",te.hover))},directives:[Zt.o,At.g,vt.$],encapsulation:2,changeDetection:0}),F})(),ye=(()=>{class F extends ze{constructor(){super(...arguments),this.edges=zt,this.edgeDimensions=Gt,this.corners=pt,this.cornerDimensions=It}}return F.\u0275fac=function(){let Se;return function(te){return(Se||(Se=E.n5z(F)))(te||F)}}(),F.\u0275cmp=E.Xpm({type:F,selectors:[["ngt-soba-gizmo-viewcube"]],features:[E._Bn([{provide:ze,useExisting:F}]),E.qOj],decls:6,vars:5,consts:[[3,"scale"],[3,"ngtSobaGizmoViewCubeGenericPassThrough"],[3,"position","dimensions","ngtSobaGizmoViewCubeGenericPassThrough",4,"ngFor","ngForOf"],["intensity","0.5"],["intensity","0.5",3,"position"],[3,"position","dimensions","ngtSobaGizmoViewCubeGenericPassThrough"]],template:function(y,te){1&y&&(E.TgZ(0,"ngt-group",0),E._UZ(1,"ngt-soba-gizmo-face-cube",1),E.YNc(2,Ut,1,3,"ngt-soba-gizmo-edge-cube",2),E.YNc(3,er,1,3,"ngt-soba-gizmo-edge-cube",2),E._UZ(4,"ngt-ambient-light",3)(5,"ngt-point-light",4),E.qZA()),2&y&&(E.Q6J("scale",60),E.xp6(1),E.Q6J("ngtSobaGizmoViewCubeGenericPassThrough",te),E.xp6(1),E.Q6J("ngForOf",te.edges),E.xp6(1),E.Q6J("ngForOf",te.corners),E.xp6(2),E.Q6J("position",10))},directives:[$t.U,Ee,Vt,Mt.sg,z,Et.w,bt.H],encapsulation:2,changeDetection:0}),F})(),Ne=(()=>{class F{}return F.\u0275fac=function(y){return new(y||F)},F.\u0275mod=E.oAB({type:F}),F.\u0275inj=E.cJS({imports:[[Mt.ez,wt.i2,wt.g4,kt.M$,Dt.N1,$e.I,j.EQ,j.GK,ee.It]]}),F})()},286:(fr,mt,X)=>{X.d(mt,{vw:()=>Yo,GG:()=>Qo});var ee=X(7017),Dt=X(5460),$e=X(8427),j=X(1858),wt=X(1926),kt=X(506),Mt=X(2402),E=X(1487),ge=X(6963);function Ie(){var u,f=0,i=[],h=0,t=0,a=g(function(v){t||r(1,v)}),n=g(function(v){t||r(-1,v)});function r(v,p){t++;var _=0;try{p===S&&T();var m=v>0&&d(p);m?m.call(p,g(function(x){_++,r(1,x)}),g(function(x){_++,r(-1,x)})):(f=v,u=p,o())}catch(x){!f&&!_&&r(-1,x)}}function o(){h||(setTimeout(s,0),h=1)}function s(){var v=i;h=0,i=[],v.forEach(l)}function l(v){v()}function d(v){var p=v&&(C(v)||"object"==typeof v)&&v.then;return C(p)&&p}function g(v){var p=0;return function(){for(var _=[],m=arguments.length;m--;)_[m]=arguments[m];p++||v.apply(this,_)}}function T(){throw new TypeError("Chaining cycle detected")}var C=function(v){return"function"==typeof v},S={then:function e(v,p){var _=Ie();return i.push(function m(){var x=f>0?v:p;if(C(x))try{var w=x(u);w===_&&T();var P=d(w);P?P.call(w,_.resolve,_.reject):_.resolve(w)}catch(M){_.reject(M)}else _[f>0?"resolve":"reject"](u)}),f&&o(),_},resolve:a,reject:n};return S}function ut(){var f,i,u=new Promise(function(h,t){f=h,i=t});return{then:u.then.bind(u),resolve:f,reject:i}}Ie.all=ut.all=function(f){var i=0,u=[],h=it();return 0===f.length?h.resolve([]):f.forEach(function(t,e){var a=it();a.resolve(t),a.then(function(n){i++,u[e]=n,i===f.length&&h.resolve(u)},h.reject)}),h};var it="function"==typeof Promise?ut:Ie;function Zt(){var f=Object.create(null);function i(t,e){var a=t.id,n=t.name,r=t.dependencies;void 0===r&&(r=[]);var o=t.init;void 0===o&&(o=function(){});var s=t.getTransferables;if(void 0===s&&(s=null),!f[a])try{r=r.map(function(d){return d&&d.isWorkerModule&&(i(d,function(g){if(g instanceof Error)throw g}),d=f[d.id].value),d}),o=h("<"+n+">.init",o),s&&(s=h("<"+n+">.getTransferables",s));var l=null;"function"==typeof o?l=o.apply(void 0,r):console.error("worker module init function failed to rehydrate"),f[a]={id:a,value:l,getTransferables:s},e(l)}catch(d){d&&d.noLog||console.error(d),e(d)}}function h(t,e){var a=void 0;self.troikaDefine=function(r){return a=r};var n=URL.createObjectURL(new Blob(["/** "+t.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+e+"\n)"],{type:"application/javascript"}));try{importScripts(n)}catch(r){console.error(r)}return URL.revokeObjectURL(n),delete self.troikaDefine,a}self.addEventListener("message",function(t){var e=t.data,a=e.messageId,n=e.action,r=e.data;try{"registerModule"===n&&i(r,function(o){o instanceof Error?postMessage({messageId:a,success:!1,error:o.message}):postMessage({messageId:a,success:!0,result:{isCallable:"function"==typeof o}})}),"callModule"===n&&function u(t,e){var a,n=t.id,r=t.args;(!f[n]||"function"!=typeof f[n].value)&&e(new Error("Worker module "+n+": not found or its 'init' did not return a function"));try{var o=(a=f[n]).value.apply(a,r);o&&"function"==typeof o.then?o.then(s,function(l){return e(l instanceof Error?l:new Error(""+l))}):s(o)}catch(l){e(l)}function s(l){try{var d=f[n].getTransferables&&f[n].getTransferables(l);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),e(l,d)}catch(g){console.error(g),e(g)}}}(r,function(o,s){o instanceof Error?postMessage({messageId:a,success:!1,error:o.message}):postMessage({messageId:a,success:!0,result:o},s||void 0)})}catch(o){postMessage({messageId:a,success:!1,error:o.stack})}})}var qt=function(){var f=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),f=!0}catch(u){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+u.message+"]")}return qt=function(){return f},f},vt=0,$t=0,Et=!1,bt=Object.create(null),yt=Object.create(null),Lt=Object.create(null);function _t(f){if(!(f&&"function"==typeof f.init||Et))throw new Error("requires `options.init` function");var i=f.dependencies,u=f.init,h=f.getTransferables,t=f.workerId;if(!qt())return function At(f){var i=function(){for(var u=[],h=arguments.length;h--;)u[h]=arguments[h];return i._getInitResult().then(function(t){if("function"==typeof t)return t.apply(void 0,u);throw new Error("Worker module function was called but `init` did not return a callable function")})};return i._getInitResult=function(){var u=f.dependencies,h=f.init;u=Array.isArray(u)?u.map(function(e){return e&&e._getInitResult?e._getInitResult():e}):[];var t=it.all(u).then(function(e){return h.apply(null,e)});return i._getInitResult=function(){return t},t},i}(f);null==t&&(t="#default");var e="workerModule"+ ++vt,a=f.name||e,n=null;function r(){for(var o=[],s=arguments.length;s--;)o[s]=arguments[s];if(!n){n=Rt(t,"registerModule",r.workerModuleData);var l=function(){n=null,yt[t].delete(l)};(yt[t]||(yt[t]=new Set)).add(l)}return n.then(function(d){if(d.isCallable)return Rt(t,"callModule",{id:e,args:o});throw new Error("Worker module function was called but `init` did not return a callable function")})}return i=i&&i.map(function(o){return"function"==typeof o&&!o.workerModuleData&&(Et=!0,o=_t({workerId:t,name:"<"+a+"> function dependency: "+o.name,init:"function(){return (\n"+Ut(o)+"\n)}"}),Et=!1),o&&o.workerModuleData&&(o=o.workerModuleData),o}),r.workerModuleData={isWorkerModule:!0,id:e,name:a,dependencies:i,init:Ut(u),getTransferables:h&&Ut(h)},r}function Ut(f){var i=f.toString();return!/^function/.test(i)&&/^\w+\s*\(/.test(i)&&(i="function "+i),i}function Rt(f,i,u){var h=it(),t=++$t;return Lt[t]=function(e){e.success?h.resolve(e.result):h.reject(new Error("Error in worker "+i+" call: "+e.error))},function er(f){var i=bt[f];if(!i){var u=Ut(Zt);(i=bt[f]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+f.replace(/\*/g,"")+" **/\n\n;("+u+")()"],{type:"application/javascript"})))).onmessage=function(h){var t=h.data,e=t.messageId,a=Lt[e];if(!a)throw new Error("WorkerModule response with empty or unknown messageId");delete Lt[e],a(t)}}return i}(f).postMessage({messageId:t,action:i,data:u}),h}var St=_t({name:"Thenable",dependencies:[it],init:function(f){return f}});function Bt(){var f=function(i){function u(k,J,b,U,H,V,D,Y){var O=1-D;Y.x=O*O*k+2*O*D*b+D*D*H,Y.y=O*O*J+2*O*D*U+D*D*V}function h(k,J,b,U,H,V,D,Y,O,R){var $=1-O;R.x=$*$*$*k+3*$*$*O*b+3*$*O*O*H+O*O*O*D,R.y=$*$*$*J+3*$*$*O*U+3*$*O*O*V+O*O*O*Y}function t(k,J){for(var U,H,V,D,Y,b=/([MLQCZ])([^MLQCZ]*)/g;U=b.exec(k);){var O=U[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(R){return parseFloat(R)});switch(U[1]){case"M":D=H=O[0],Y=V=O[1];break;case"L":(O[0]!==D||O[1]!==Y)&&J("L",D,Y,D=O[0],Y=O[1]);break;case"Q":J("Q",D,Y,D=O[2],Y=O[3],O[0],O[1]);break;case"C":J("C",D,Y,D=O[4],Y=O[5],O[0],O[1],O[2],O[3]);break;case"Z":(D!==H||Y!==V)&&J("L",D,Y,H,V)}}}function e(k,J,b){void 0===b&&(b=16);var U={x:0,y:0};t(k,function(H,V,D,Y,O,R,$,be,re){switch(H){case"L":J(V,D,Y,O);break;case"Q":for(var K=V,Pe=D,Oe=1;Oe<b;Oe++)u(V,D,R,$,Y,O,Oe/(b-1),U),J(K,Pe,U.x,U.y),K=U.x,Pe=U.y;break;case"C":for(var ue=V,me=D,we=1;we<b;we++)h(V,D,R,$,be,re,Y,O,we/(b-1),U),J(ue,me,U.x,U.y),ue=U.x,me=U.y}})}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",r=new WeakMap,o={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function s(k,J){var b=k.getContext?k.getContext("webgl",o):k,U=r.get(b);if(!U){let $=function(ue){var me=V[ue];if(!me&&!(me=V[ue]=b.getExtension(ue)))throw new Error(ue+" not supported");return me},be=function(ue,me){var we=b.createShader(me);return b.shaderSource(we,ue),b.compileShader(we),we},re=function(ue,me,we,L){if(!D[ue]){var pe={},ae={},I=b.createProgram();b.attachShader(I,be(me,b.VERTEX_SHADER)),b.attachShader(I,be(we,b.FRAGMENT_SHADER)),b.linkProgram(I),D[ue]={program:I,transaction:function(se){b.useProgram(I),se({setUniform:function(ne,Ue){for(var Ge=[],oe=arguments.length-2;oe-- >0;)Ge[oe]=arguments[oe+2];var Ce=ae[Ue]||(ae[Ue]=b.getUniformLocation(I,Ue));b["uniform"+ne].apply(b,[Ce].concat(Ge))},setAttribute:function(ne,Ue,Ge,oe,Ce){var De=pe[ne];De||(De=pe[ne]={buf:b.createBuffer(),loc:b.getAttribLocation(I,ne),data:null}),b.bindBuffer(b.ARRAY_BUFFER,De.buf),b.vertexAttribPointer(De.loc,Ue,b.FLOAT,!1,0,0),b.enableVertexAttribArray(De.loc),H?b.vertexAttribDivisor(De.loc,oe):$("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(De.loc,oe),Ce!==De.data&&(b.bufferData(b.ARRAY_BUFFER,Ce,Ge),De.data=Ce)}})}}}D[ue].transaction(L)},K=function(ue,me){O++;try{b.activeTexture(b.TEXTURE0+O);var we=Y[ue];we||(we=Y[ue]=b.createTexture(),b.bindTexture(b.TEXTURE_2D,we),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST)),b.bindTexture(b.TEXTURE_2D,we),me(we,O)}finally{O--}},Pe=function(ue,me,we){var L=b.createFramebuffer();R.push(L),b.bindFramebuffer(b.FRAMEBUFFER,L),b.activeTexture(b.TEXTURE0+me),b.bindTexture(b.TEXTURE_2D,ue),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,ue,0);try{we(L)}finally{b.deleteFramebuffer(L),b.bindFramebuffer(b.FRAMEBUFFER,R[--R.length-1]||null)}},Oe=function(){V={},D={},Y={},O=-1,R.length=0};var H="undefined"!=typeof WebGL2RenderingContext&&b instanceof WebGL2RenderingContext,V={},D={},Y={},O=-1,R=[];b.canvas.addEventListener("webglcontextlost",function(ue){Oe(),ue.preventDefault()},!1),r.set(b,U={gl:b,isWebGL2:H,getExtension:$,withProgram:re,withTexture:K,withTextureFramebuffer:Pe,handleContextLoss:Oe})}J(U)}function l(k,J,b,U,H,V,D,Y){void 0===D&&(D=15),void 0===Y&&(Y=null),s(k,function(O){var R=O.gl,$=O.withProgram;(0,O.withTexture)("copy",function(re,K){R.texImage2D(R.TEXTURE_2D,0,R.RGBA,H,V,0,R.RGBA,R.UNSIGNED_BYTE,J),$("copy",a,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",function(Pe){var Oe=Pe.setUniform;(0,Pe.setAttribute)("aUV",2,R.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Oe("1i","image",K),R.bindFramebuffer(R.FRAMEBUFFER,Y||null),R.disable(R.BLEND),R.colorMask(8&D,4&D,2&D,1&D),R.viewport(b,U,H,V),R.scissor(b,U,H,V),R.drawArrays(R.TRIANGLES,0,3)})})})}var g=Object.freeze({__proto__:null,withWebGLContext:s,renderImageData:l,resizeWebGLCanvasWithoutClearing:function d(k,J,b){var U=k.width,H=k.height;s(k,function(V){var D=V.gl,Y=new Uint8Array(U*H*4);D.readPixels(0,0,U,H,D.RGBA,D.UNSIGNED_BYTE,Y),k.width=J,k.height=b,l(D,Y,0,0,U,H)})}});function T(k,J,b,U,H,V){void 0===V&&(V=1);var D=new Uint8Array(k*J),Y=U[2]-U[0],O=U[3]-U[1],R=[];e(b,function(ue,me,we,L){R.push({x1:ue,y1:me,x2:we,y2:L,minX:Math.min(ue,we),minY:Math.min(me,L),maxX:Math.max(ue,we),maxY:Math.max(me,L)})}),R.sort(function(ue,me){return ue.maxX-me.maxX});for(var $=0;$<k;$++)for(var be=0;be<J;be++){var re=Pe(U[0]+Y*($+.5)/k,U[1]+O*(be+.5)/J),K=Math.pow(1-Math.abs(re)/H,V)/2;re<0&&(K=1-K),K=Math.max(0,Math.min(255,Math.round(255*K))),D[be*k+$]=K}return D;function Pe(ue,me){for(var we=1/0,L=1/0,pe=R.length;pe--;){var ae=R[pe];if(ae.maxX+L<=ue)break;if(ue+L>ae.minX&&me-L<ae.maxY&&me+L>ae.minY){var I=v(ue,me,ae.x1,ae.y1,ae.x2,ae.y2);I<we&&(we=I,L=Math.sqrt(we))}}return function Oe(ue,me){for(var we=0,L=R.length;L--;){var pe=R[L];if(pe.maxX<=ue)break;pe.y1>me!=pe.y2>me&&ue<(pe.x2-pe.x1)*(me-pe.y1)/(pe.y2-pe.y1)+pe.x1&&(we+=pe.y1<pe.y2?1:-1)}return 0!==we}(ue,me)&&(L=-L),L}}function C(k,J,b,U,H,V,D,Y,O,R){void 0===V&&(V=1),void 0===Y&&(Y=0),void 0===O&&(O=0),void 0===R&&(R=0),S(k,J,b,U,H,V,D,null,Y,O,R)}function S(k,J,b,U,H,V,D,Y,O,R,$){void 0===V&&(V=1),void 0===O&&(O=0),void 0===R&&(R=0),void 0===$&&($=0);for(var be=T(k,J,b,U,H,V),re=new Uint8Array(4*be.length),K=0;K<be.length;K++)re[4*K+$]=be[K];l(D,re,O,R,k,J,1<<3-$,Y)}function v(k,J,b,U,H,V){var D=H-b,Y=V-U,O=D*D+Y*Y,R=O?Math.max(0,Math.min(1,((k-b)*D+(J-U)*Y)/O)):0,$=k-(b+R*D),be=J-(U+R*Y);return $*$+be*be}var p=Object.freeze({__proto__:null,generate:T,generateIntoCanvas:C,generateIntoFramebuffer:S}),w=new Float32Array([0,0,2,0,0,2]),P=null,M=!1,Z={},ce=new WeakMap;function ie(k){if(!M&&!le(k))throw new Error("WebGL generation not supported")}function N(k,J,b,U,H,V,D){if(void 0===V&&(V=1),void 0===D&&(D=null),!D&&!(D=P)){var Y="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!Y)throw new Error("OffscreenCanvas or DOM canvas not supported");D=P=Y.getContext("webgl",{depth:!1})}ie(D);var O=new Uint8Array(k*J*4);s(D,function(re){var K=re.gl,Oe=re.withTextureFramebuffer;(0,re.withTexture)("readable",function(ue,me){K.texImage2D(K.TEXTURE_2D,0,K.RGBA,k,J,0,K.RGBA,K.UNSIGNED_BYTE,null),Oe(ue,me,function(we){B(k,J,b,U,H,V,K,we,0,0,0),K.readPixels(0,0,k,J,K.RGBA,K.UNSIGNED_BYTE,O)})})});for(var R=new Uint8Array(k*J),$=0,be=0;$<O.length;$+=4)R[be++]=O[$];return R}function G(k,J,b,U,H,V,D,Y,O,R){void 0===V&&(V=1),void 0===Y&&(Y=0),void 0===O&&(O=0),void 0===R&&(R=0),B(k,J,b,U,H,V,D,null,Y,O,R)}function B(k,J,b,U,H,V,D,Y,O,R,$){void 0===V&&(V=1),void 0===O&&(O=0),void 0===R&&(R=0),void 0===$&&($=0),ie(D);var be=[];e(b,function(re,K,Pe,Oe){be.push(re,K,Pe,Oe)}),be=new Float32Array(be),s(D,function(re){var K=re.gl,Pe=re.isWebGL2,Oe=re.getExtension,ue=re.withProgram,we=re.withTextureFramebuffer,L=re.handleContextLoss;if((0,re.withTexture)("rawDistances",function(pe,ae){(k!==pe._lastWidth||J!==pe._lastHeight)&&K.texImage2D(K.TEXTURE_2D,0,K.RGBA,pe._lastWidth=k,pe._lastHeight=J,0,K.RGBA,K.UNSIGNED_BYTE,null),ue("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",function(I){var Be=I.setAttribute,se=I.setUniform,fe=!Pe&&Oe("ANGLE_instanced_arrays"),ne=!Pe&&Oe("EXT_blend_minmax");Be("aUV",2,K.STATIC_DRAW,0,w),Be("aLineSegment",4,K.DYNAMIC_DRAW,1,be),se.apply(void 0,["4f","uGlyphBounds"].concat(U)),se("1f","uMaxDistance",H),se("1f","uExponent",V),we(pe,ae,function(Ue){K.enable(K.BLEND),K.colorMask(!0,!0,!0,!0),K.viewport(0,0,k,J),K.scissor(0,0,k,J),K.blendFunc(K.ONE,K.ONE),K.blendEquationSeparate(K.FUNC_ADD,Pe?K.MAX:ne.MAX_EXT),K.clear(K.COLOR_BUFFER_BIT),Pe?K.drawArraysInstanced(K.TRIANGLES,0,3,be.length/4):fe.drawArraysInstancedANGLE(K.TRIANGLES,0,3,be.length/4)})}),ue("post",a,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",function(I){I.setAttribute("aUV",2,K.STATIC_DRAW,0,w),I.setUniform("1i","tex",ae),K.bindFramebuffer(K.FRAMEBUFFER,Y),K.disable(K.BLEND),K.colorMask(0===$,1===$,2===$,3===$),K.viewport(O,R,k,J),K.scissor(O,R,k,J),K.drawArrays(K.TRIANGLES,0,3)})}),K.isContextLost())throw L(),new Error("webgl context lost")})}function le(k){var J=k&&k!==P?k.canvas||k:Z,b=ce.get(J);if(void 0===b){M=!0;var U=null;try{var H=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],V=N(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,k);(b=V&&H.length===V.length&&V.every(function(D,Y){return D===H[Y]}))||(U="bad trial run results",console.info(H,V))}catch(D){b=!1,U=D.message}U&&console.warn("WebGL SDF generation not supported:",U),M=!1,ce.set(J,b)}return b}var q=Object.freeze({__proto__:null,generate:N,generateIntoCanvas:G,generateIntoFramebuffer:B,isSupported:le});return i.forEachPathCommand=t,i.generate=function _e(k,J,b,U,H,V){void 0===H&&(H=Math.max(U[2]-U[0],U[3]-U[1])/2),void 0===V&&(V=1);try{return N.apply(q,arguments)}catch(D){return console.info("WebGL SDF generation failed, falling back to JS",D),T.apply(p,arguments)}},i.generateIntoCanvas=function xe(k,J,b,U,H,V,D,Y,O,R){void 0===H&&(H=Math.max(U[2]-U[0],U[3]-U[1])/2),void 0===V&&(V=1),void 0===Y&&(Y=0),void 0===O&&(O=0),void 0===R&&(R=0);try{return G.apply(q,arguments)}catch($){return console.info("WebGL SDF generation failed, falling back to JS",$),C.apply(p,arguments)}},i.javascript=p,i.pathToLineSegments=e,i.webgl=q,i.webglUtils=g,Object.defineProperty(i,"__esModule",{value:!0}),i}({});return f}const zt=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Gt(f){return f.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function u(h,t){let e=ge.WdD[t];return e?Gt(e):h})}const ze=[];for(let f=0;f<256;f++)ze[f]=(f<16?"0":"")+f.toString(16);const de=Object.assign||function(){let f=arguments[0];for(let i=1,u=arguments.length;i<u;i++){let h=arguments[i];if(h)for(let t in h)h.hasOwnProperty(t)&&(f[t]=h[t])}return f},Ee=Date.now(),z=new WeakMap,ye=new Map;let Ne=1e10;function F(f,i){const u=function at(f){const i=JSON.stringify(f,te);let u=Re.get(i);return null==u&&Re.set(i,u=++Je),u}(i);let h=z.get(f);if(h||z.set(f,h=Object.create(null)),h[u])return new h[u];const t=`_onBeforeCompile${u}`,e=function(o){f.onBeforeCompile.call(this,o);const s=this.customProgramCacheKey()+"|"+o.vertexShader+"|"+o.fragmentShader;let l=ye[s];if(!l){const d=function Se({vertexShader:f,fragmentShader:i},u,h){let{vertexDefs:t,vertexMainIntro:e,vertexMainOutro:a,vertexTransform:n,fragmentDefs:r,fragmentMainIntro:o,fragmentMainOutro:s,fragmentColorTransform:l,customRewriter:d,timeUniform:g}=u;if(t=t||"",e=e||"",a=a||"",r=r||"",o=o||"",s=s||"",(n||d)&&(f=Gt(f)),(l||d)&&(i=Gt(i=i.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),d){let T=d({vertexShader:f,fragmentShader:i});f=T.vertexShader,i=T.fragmentShader}if(l){let T=[];i=i.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,C=>(T.push(C),"")),s=`${l}\n${T.join("\n")}\n${s}`}if(g){const T=`\nuniform float ${g};\n`;t=T+t,r=T+r}return n&&(t=`${t}\nvoid troikaVertexTransform${h}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${n}\n}\n`,e=`\ntroika_position_${h} = vec3(position);\ntroika_normal_${h} = vec3(normal);\ntroika_uv_${h} = vec2(uv);\ntroikaVertexTransform${h}(troika_position_${h}, troika_normal_${h}, troika_uv_${h});\n${e}\n`,f=(f=`vec3 troika_position_${h};\nvec3 troika_normal_${h};\nvec2 troika_uv_${h};\n${f}\n`).replace(/\b(position|normal|uv)\b/g,(T,C,S,v)=>/\battribute\s+vec[23]\s+$/.test(v.substr(0,S))?C:`troika_${C}_${h}`)),{vertexShader:f=y(f,h,t,e,a),fragmentShader:i=y(i,h,r,o,s)}}(o,i,u);l=ye[s]=d}o.vertexShader=l.vertexShader,o.fragmentShader=l.fragmentShader,de(o.uniforms,this.uniforms),i.timeUniform&&(o.uniforms[i.timeUniform]={get value(){return Date.now()-Ee}}),this[t]&&this[t](o)},a=function(){return n(i.chained?f:f.clone())},n=function(o){const s=Object.create(o,r);return Object.defineProperty(s,"baseMaterial",{value:f}),Object.defineProperty(s,"id",{value:Ne++}),s.uuid=function Vt(){const f=4294967295*Math.random()|0,i=4294967295*Math.random()|0,u=4294967295*Math.random()|0,h=4294967295*Math.random()|0;return(ze[255&f]+ze[f>>8&255]+ze[f>>16&255]+ze[f>>24&255]+"-"+ze[255&i]+ze[i>>8&255]+"-"+ze[i>>16&15|64]+ze[i>>24&255]+"-"+ze[63&u|128]+ze[u>>8&255]+"-"+ze[u>>16&255]+ze[u>>24&255]+ze[255&h]+ze[h>>8&255]+ze[h>>16&255]+ze[h>>24&255]).toUpperCase()}(),s.uniforms=de({},o.uniforms,i.uniforms),s.defines=de({},o.defines,i.defines),s.defines[`TROIKA_DERIVED_MATERIAL_${u}`]="",s.extensions=de({},o.extensions,i.extensions),s._listeners=void 0,s},r={constructor:{value:a},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return f.customProgramCacheKey()+"|"+u}},onBeforeCompile:{get:()=>e,set(o){this[t]=o}},copy:{writable:!0,configurable:!0,value:function(o){return f.copy.call(this,o),!f.isShaderMaterial&&!f.isDerivedMaterial&&(de(this.extensions,o.extensions),de(this.defines,o.defines),de(this.uniforms,ge.rDY.clone(o.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const o=new f.constructor;return n(o).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let o=this._depthMaterial;return o||(o=this._depthMaterial=F(f.isDerivedMaterial?f.getDepthMaterial():new ge.lRF({depthPacking:ge.mSO}),i),o.defines.IS_DEPTH_MATERIAL="",o.uniforms=this.uniforms),o}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let o=this._distanceMaterial;return o||(o=this._distanceMaterial=F(f.isDerivedMaterial?f.getDistanceMaterial():new ge.Lun,i),o.defines.IS_DISTANCE_MATERIAL="",o.uniforms=this.uniforms),o}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:o,_distanceMaterial:s}=this;o&&o.dispose(),s&&s.dispose(),f.dispose.call(this)}}};return h[u]=a,new a}function y(f,i,u,h,t){return(h||t||u)&&(f=f.replace(zt,`\n${u}\nvoid troikaOrigMain${i}() {`),f+=`\nvoid main() {\n  ${h}\n  troikaOrigMain${i}();\n  ${t}\n}`),f}function te(f,i){return"uniforms"===f?void 0:"function"==typeof i?i.toString():i}let Je=0;const Re=new Map,jt=()=>(self.performance||Date).now(),hr=Bt();let $r;const Go=function(){const f=[];let u=0;function h(){const t=jt();for(;f.length&&jt()-t<5;)f.shift()();u=f.length?setTimeout(h,0):0}return(...t)=>{const e=it();return f.push(()=>{const a=jt();try{hr.webgl.generateIntoCanvas(...t),e.resolve({timing:jt()-a})}catch(n){e.reject(n)}}),u||(u=setTimeout(h,0)),e}}(),eo=function(){const u={};let h=0;return function(t,e,a,n,r,o,s,l,d,g){const T="TroikaTextSDFGenerator_JS_"+h++%4;let C=u[T];return C||(C=u[T]={workerModule:_t({name:T,workerId:T,dependencies:[Bt,jt],init(S,v){const p=S().javascript.generate;return function(..._){const m=v();return{textureData:p(..._),timing:v()-m}}},getTransferables:S=>[S.textureData.buffer]}),requests:0,idleTimer:null}),C.requests++,clearTimeout(C.idleTimer),C.workerModule(t,e,a,n,r,o).then(({textureData:S,timing:v})=>{const p=jt(),_=new Uint8Array(4*S.length);for(let m=0;m<S.length;m++)_[4*m+g]=S[m];return hr.webglUtils.renderImageData(s,_,l,d,t,e,1<<3-g),v+=jt()-p,0==--C.requests&&(C.idleTimer=setTimeout(()=>{!function or(f){yt[f]&&yt[f].forEach(function(i){i()}),bt[f]&&(bt[f].terminate(),delete bt[f])}(T)},2e3)),{timing:v}})}}(),Do=hr.webglUtils.resizeWebGLCanvasWithoutClearing,Lo=_t({name:"Typr Font Parser",dependencies:[function ko(){return"undefined"==typeof window&&(self.window=self),function(f){var i={parse:function(t){var e=i._bin,a=new Uint8Array(t);if("ttcf"==e.readASCII(a,0,4)){var n=4;e.readUshort(a,n),e.readUshort(a,n+=2);var r=e.readUint(a,n+=2);n+=4;for(var o=[],s=0;s<r;s++){var l=e.readUint(a,n);n+=4,o.push(i._readFont(a,l))}return o}return[i._readFont(a,0)]},_readFont:function(t,e){var a=i._bin,n=e;a.readFixed(t,e);var r=a.readUshort(t,e+=4);a.readUshort(t,e+=2),a.readUshort(t,e+=2),a.readUshort(t,e+=2),e+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:t,_offset:n},l={},d=0;d<r;d++){var g=a.readASCII(t,e,4);a.readUint(t,e+=4);var T=a.readUint(t,e+=4),C=a.readUint(t,e+=4);e+=4,l[g]={offset:T,length:C}}for(d=0;d<o.length;d++){var S=o[d];l[S]&&(s[S.trim()]=i[S.trim()].parse(t,l[S].offset,l[S].length,s))}return s},_tabOffset:function(t,e,a){for(var n=i._bin,r=n.readUshort(t,a+4),o=a+12,s=0;s<r;s++){var l=n.readASCII(t,o,4);n.readUint(t,o+=4);var d=n.readUint(t,o+=4);if(n.readUint(t,o+=4),o+=4,l==e)return d}return 0}};i._bin={readFixed:function(t,e){return(t[e]<<8|t[e+1])+(t[e+2]<<8|t[e+3])/65540},readF2dot14:function(t,e){return i._bin.readShort(t,e)/16384},readInt:function(t,e){return i._bin._view(t).getInt32(e)},readInt8:function(t,e){return i._bin._view(t).getInt8(e)},readShort:function(t,e){return i._bin._view(t).getInt16(e)},readUshort:function(t,e){return i._bin._view(t).getUint16(e)},readUshorts:function(t,e,a){for(var n=[],r=0;r<a;r++)n.push(i._bin.readUshort(t,e+2*r));return n},readUint:function(t,e){return i._bin._view(t).getUint32(e)},readUint64:function(t,e){return 4294967296*i._bin.readUint(t,e)+i._bin.readUint(t,e+4)},readASCII:function(t,e,a){for(var n="",r=0;r<a;r++)n+=String.fromCharCode(t[e+r]);return n},readUnicode:function(t,e,a){for(var n="",r=0;r<a;r++){var o=t[e++]<<8|t[e++];n+=String.fromCharCode(o)}return n},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(t,e,a){var n=i._bin._tdec;return n&&0==e&&a==t.length?n.decode(t):i._bin.readASCII(t,e,a)},readBytes:function(t,e,a){for(var n=[],r=0;r<a;r++)n.push(t[e+r]);return n},readASCIIArray:function(t,e,a){for(var n=[],r=0;r<a;r++)n.push(String.fromCharCode(t[e+r]));return n},_view:function(t){return t._dataView||(t._dataView=t.buffer?new DataView(t.buffer,t.byteOffset,t.byteLength):new DataView(new Uint8Array(t).buffer))}},i._lctf={},i._lctf.parse=function(t,e,a,n,r){var o=i._bin,s={},l=e;o.readFixed(t,e);var d=o.readUshort(t,e+=4),g=o.readUshort(t,e+=2),T=o.readUshort(t,e+=2);return e+=2,s.scriptList=i._lctf.readScriptList(t,l+d),s.featureList=i._lctf.readFeatureList(t,l+g),s.lookupList=i._lctf.readLookupList(t,l+T,r),s},i._lctf.readLookupList=function(t,e,a){var n=i._bin,r=e,o=[],s=n.readUshort(t,e);e+=2;for(var l=0;l<s;l++){var d=n.readUshort(t,e);e+=2;var g=i._lctf.readLookupTable(t,r+d,a);o.push(g)}return o},i._lctf.readLookupTable=function(t,e,a){var n=i._bin,r=e,o={tabs:[]};o.ltype=n.readUshort(t,e),o.flag=n.readUshort(t,e+=2);var s=n.readUshort(t,e+=2);e+=2;for(var l=o.ltype,d=0;d<s;d++){var g=n.readUshort(t,e);e+=2;var T=a(t,l,r+g,o);o.tabs.push(T)}return o},i._lctf.numOfOnes=function(t){for(var e=0,a=0;a<32;a++)0!=(t>>>a&1)&&e++;return e},i._lctf.readClassDef=function(t,e){var a=i._bin,n=[],r=a.readUshort(t,e);if(e+=2,1==r){var o=a.readUshort(t,e),s=a.readUshort(t,e+=2);e+=2;for(var l=0;l<s;l++)n.push(o+l),n.push(o+l),n.push(a.readUshort(t,e)),e+=2}if(2==r){var d=a.readUshort(t,e);for(e+=2,l=0;l<d;l++)n.push(a.readUshort(t,e)),n.push(a.readUshort(t,e+=2)),n.push(a.readUshort(t,e+=2)),e+=2}return n},i._lctf.getInterval=function(t,e){for(var a=0;a<t.length;a+=3)if(t[a]<=e&&e<=t[a+1])return a;return-1},i._lctf.readCoverage=function(t,e){var a=i._bin,n={};n.fmt=a.readUshort(t,e);var r=a.readUshort(t,e+=2);return e+=2,1==n.fmt&&(n.tab=a.readUshorts(t,e,r)),2==n.fmt&&(n.tab=a.readUshorts(t,e,3*r)),n},i._lctf.coverageIndex=function(t,e){var a=t.tab;if(1==t.fmt)return a.indexOf(e);if(2==t.fmt){var n=i._lctf.getInterval(a,e);if(-1!=n)return a[n+2]+(e-a[n])}return-1},i._lctf.readFeatureList=function(t,e){var a=i._bin,n=e,r=[],o=a.readUshort(t,e);e+=2;for(var s=0;s<o;s++){var l=a.readASCII(t,e,4),d=a.readUshort(t,e+=4);e+=2;var g=i._lctf.readFeatureTable(t,n+d);g.tag=l.trim(),r.push(g)}return r},i._lctf.readFeatureTable=function(t,e){var a=i._bin,n=e,r={},o=a.readUshort(t,e);e+=2,o>0&&(r.featureParams=n+o);var s=a.readUshort(t,e);e+=2,r.tab=[];for(var l=0;l<s;l++)r.tab.push(a.readUshort(t,e+2*l));return r},i._lctf.readScriptList=function(t,e){var a=i._bin,n=e,r={},o=a.readUshort(t,e);e+=2;for(var s=0;s<o;s++){var l=a.readASCII(t,e,4),d=a.readUshort(t,e+=4);e+=2,r[l.trim()]=i._lctf.readScriptTable(t,n+d)}return r},i._lctf.readScriptTable=function(t,e){var a=i._bin,n=e,r={},o=a.readUshort(t,e);e+=2,r.default=i._lctf.readLangSysTable(t,n+o);var s=a.readUshort(t,e);e+=2;for(var l=0;l<s;l++){var d=a.readASCII(t,e,4),g=a.readUshort(t,e+=4);e+=2,r[d.trim()]=i._lctf.readLangSysTable(t,n+g)}return r},i._lctf.readLangSysTable=function(t,e){var a=i._bin,n={};a.readUshort(t,e),n.reqFeature=a.readUshort(t,e+=2);var r=a.readUshort(t,e+=2);return n.features=a.readUshorts(t,e+=2,r),n},i.CFF={},i.CFF.parse=function(t,e,a){var n=i._bin;t=new Uint8Array(t.buffer,e,a),e=0,++e,++e,++e,e++;var r=[];e=i.CFF.readIndex(t,e,r);for(var o=[],s=0;s<r.length-1;s++)o.push(n.readASCII(t,e+r[s],r[s+1]-r[s]));var l=[];e=i.CFF.readIndex(t,e+=r[r.length-1],l);var d=[];for(s=0;s<l.length-1;s++)d.push(i.CFF.readDict(t,e+l[s],e+l[s+1]));var g=d[0],T=[];e=i.CFF.readIndex(t,e+=l[l.length-1],T);var C=[];for(s=0;s<T.length-1;s++)C.push(n.readASCII(t,e+T[s],T[s+1]-T[s]));if(i.CFF.readSubrs(t,e+=T[T.length-1],g),g.CharStrings){e=i.CFF.readIndex(t,e=g.CharStrings,T=[]);var S=[];for(s=0;s<T.length-1;s++)S.push(n.readBytes(t,e+T[s],T[s+1]-T[s]));g.CharStrings=S}if(g.ROS){var v=[];for(e=i.CFF.readIndex(t,e=g.FDArray,v),g.FDArray=[],s=0;s<v.length-1;s++){var p=i.CFF.readDict(t,e+v[s],e+v[s+1]);i.CFF._readFDict(t,p,C),g.FDArray.push(p)}e+=v[v.length-1],e=g.FDSelect,g.FDSelect=[];var _=t[e];if(e++,3!=_)throw _;var m=n.readUshort(t,e);for(e+=2,s=0;s<m+1;s++)g.FDSelect.push(n.readUshort(t,e),t[e+2]),e+=3}return g.Encoding&&(g.Encoding=i.CFF.readEncoding(t,g.Encoding,g.CharStrings.length)),g.charset&&(g.charset=i.CFF.readCharset(t,g.charset,g.CharStrings.length)),i.CFF._readFDict(t,g,C),g},i.CFF._readFDict=function(t,e,a){var n;for(var r in e.Private&&(e.Private=i.CFF.readDict(t,n=e.Private[1],n+e.Private[0]),e.Private.Subrs&&i.CFF.readSubrs(t,n+e.Private.Subrs,e.Private)),e)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(r)&&(e[r]=a[e[r]-426+35])},i.CFF.readSubrs=function(t,e,a){var n=i._bin,r=[];e=i.CFF.readIndex(t,e,r);var s=r.length;a.Bias=s<1240?107:s<33900?1131:32768,a.Subrs=[];for(var l=0;l<r.length-1;l++)a.Subrs.push(n.readBytes(t,e+r[l],r[l+1]-r[l]))},i.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],i.CFF.glyphByUnicode=function(t,e){for(var a=0;a<t.charset.length;a++)if(t.charset[a]==e)return a;return-1},i.CFF.glyphBySE=function(t,e){return e<0||e>255?-1:i.CFF.glyphByUnicode(t,i.CFF.tableSE[e])},i.CFF.readEncoding=function(t,e,a){var n=[".notdef"],r=t[e];if(e++,0!=r)throw"error: unknown encoding format: "+r;var o=t[e];e++;for(var s=0;s<o;s++)n.push(t[e+s]);return n},i.CFF.readCharset=function(t,e,a){var n=i._bin,r=[".notdef"],o=t[e];if(e++,0==o)for(var s=0;s<a;s++){var l=n.readUshort(t,e);e+=2,r.push(l)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;r.length<a;){l=n.readUshort(t,e),e+=2;var d=0;for(1==o?(d=t[e],e++):(d=n.readUshort(t,e),e+=2),s=0;s<=d;s++)r.push(l),l++}}return r},i.CFF.readIndex=function(t,e,a){var n=i._bin,r=n.readUshort(t,e)+1,o=t[e+=2];if(e++,1==o)for(var s=0;s<r;s++)a.push(t[e+s]);else if(2==o)for(s=0;s<r;s++)a.push(n.readUshort(t,e+2*s));else if(3==o)for(s=0;s<r;s++)a.push(16777215&n.readUint(t,e+3*s-1));else if(1!=r)throw"unsupported offset size: "+o+", count: "+r;return(e+=r*o)-1},i.CFF.getCharString=function(t,e,a){var n=i._bin,r=t[e],o=t[e+1],s=1,l=null,d=null;r<=20&&(l=r,s=1),12==r&&(l=100*r+o,s=2),21<=r&&r<=27&&(l=r,s=1),28==r&&(d=n.readShort(t,e+1),s=3),29<=r&&r<=31&&(l=r,s=1),32<=r&&r<=246&&(d=r-139,s=1),247<=r&&r<=250&&(d=256*(r-247)+o+108,s=2),251<=r&&r<=254&&(d=256*-(r-251)-o-108,s=2),255==r&&(d=n.readInt(t,e+1)/65535,s=5),a.val=null!=d?d:"o"+l,a.size=s},i.CFF.readCharString=function(t,e,a){for(var n=e+a,r=i._bin,o=[];e<n;){var s=t[e],l=t[e+1],d=1,g=null,T=null;s<=20&&(g=s,d=1),12==s&&(g=100*s+l,d=2),19!=s&&20!=s||(g=s,d=2),21<=s&&s<=27&&(g=s,d=1),28==s&&(T=r.readShort(t,e+1),d=3),29<=s&&s<=31&&(g=s,d=1),32<=s&&s<=246&&(T=s-139,d=1),247<=s&&s<=250&&(T=256*(s-247)+l+108,d=2),251<=s&&s<=254&&(T=256*-(s-251)-l-108,d=2),255==s&&(T=r.readInt(t,e+1)/65535,d=5),o.push(null!=T?T:"o"+g),e+=d}return o},i.CFF.readDict=function(t,e,a){for(var n=i._bin,r={},o=[];e<a;){var s=t[e],l=t[e+1],d=1,g=null,T=null;if(28==s&&(T=n.readShort(t,e+1),d=3),29==s&&(T=n.readInt(t,e+1),d=5),32<=s&&s<=246&&(T=s-139,d=1),247<=s&&s<=250&&(T=256*(s-247)+l+108,d=2),251<=s&&s<=254&&(T=256*-(s-251)-l-108,d=2),255==s)throw T=n.readInt(t,e+1)/65535,d=5,"unknown number";if(30==s){var C=[];for(d=1;;){var S=t[e+d];d++;var v=S>>4,p=15&S;if(15!=v&&C.push(v),15!=p&&C.push(p),15==p)break}for(var _="",m=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],x=0;x<C.length;x++)_+=m[C[x]];T=parseFloat(_)}s<=21&&(g=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],d=1,12==s&&(g=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],d=2)),null!=g?(r[g]=1==o.length?o[0]:o,o=[]):o.push(T),e+=d}return r},i.cmap={},i.cmap.parse=function(t,e,a){t=new Uint8Array(t.buffer,e,a);var n=i._bin,r={};n.readUshort(t,e=0);var o=n.readUshort(t,e+=2);e+=2;var s=[];r.tables=[];for(var l=0;l<o;l++){var d=n.readUshort(t,e),g=n.readUshort(t,e+=2),T=n.readUint(t,e+=2);e+=4;var C="p"+d+"e"+g,S=s.indexOf(T);if(-1==S){var v;S=r.tables.length,s.push(T);var p=n.readUshort(t,T);0==p?v=i.cmap.parse0(t,T):4==p?v=i.cmap.parse4(t,T):6==p?v=i.cmap.parse6(t,T):12==p?v=i.cmap.parse12(t,T):console.debug("unknown format: "+p,d,g,T),r.tables.push(v)}if(null!=r[C])throw"multiple tables for one platform+encoding";r[C]=S}return r},i.cmap.parse0=function(t,e){var a=i._bin,n={};n.format=a.readUshort(t,e);var r=a.readUshort(t,e+=2);a.readUshort(t,e+=2),e+=2,n.map=[];for(var o=0;o<r-6;o++)n.map.push(t[e+o]);return n},i.cmap.parse4=function(t,e){var a=i._bin,n=e,r={};r.format=a.readUshort(t,e);var o=a.readUshort(t,e+=2);a.readUshort(t,e+=2);var l=a.readUshort(t,e+=2)/2;r.searchRange=a.readUshort(t,e+=2),r.entrySelector=a.readUshort(t,e+=2),r.rangeShift=a.readUshort(t,e+=2),r.endCount=a.readUshorts(t,e+=2,l),e+=2*l,r.startCount=a.readUshorts(t,e+=2,l),e+=2*l,r.idDelta=[];for(var d=0;d<l;d++)r.idDelta.push(a.readShort(t,e)),e+=2;for(r.idRangeOffset=a.readUshorts(t,e,l),e+=2*l,r.glyphIdArray=[];e<n+o;)r.glyphIdArray.push(a.readUshort(t,e)),e+=2;return r},i.cmap.parse6=function(t,e){var a=i._bin,n={};n.format=a.readUshort(t,e),a.readUshort(t,e+=2),a.readUshort(t,e+=2),n.firstCode=a.readUshort(t,e+=2);var r=a.readUshort(t,e+=2);e+=2,n.glyphIdArray=[];for(var o=0;o<r;o++)n.glyphIdArray.push(a.readUshort(t,e)),e+=2;return n},i.cmap.parse12=function(t,e){var a=i._bin,n={};n.format=a.readUshort(t,e),e+=2,a.readUint(t,e+=2),a.readUint(t,e+=4);var r=a.readUint(t,e+=4);e+=4,n.groups=[];for(var o=0;o<r;o++){var s=e+12*o,l=a.readUint(t,s+0),d=a.readUint(t,s+4),g=a.readUint(t,s+8);n.groups.push([l,d,g])}return n},i.glyf={},i.glyf.parse=function(t,e,a,n){for(var r=[],o=0;o<n.maxp.numGlyphs;o++)r.push(null);return r},i.glyf._parseGlyf=function(t,e){var a=i._bin,n=t._data,r=i._tabOffset(n,"glyf",t._offset)+t.loca[e];if(t.loca[e]==t.loca[e+1])return null;var o={};if(o.noc=a.readShort(n,r),o.xMin=a.readShort(n,r+=2),o.yMin=a.readShort(n,r+=2),o.xMax=a.readShort(n,r+=2),o.yMax=a.readShort(n,r+=2),r+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(a.readUshort(n,r)),r+=2;var l=a.readUshort(n,r);if(n.length-(r+=2)<l)return null;o.instructions=a.readBytes(n,r,l),r+=l;var d=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<d;s++){var g=n[r];if(r++,o.flags.push(g),0!=(8&g)){var T=n[r];r++;for(var C=0;C<T;C++)o.flags.push(g),s++}}for(o.xs=[],s=0;s<d;s++){var S=0!=(2&o.flags[s]),v=0!=(16&o.flags[s]);S?(o.xs.push(v?n[r]:-n[r]),r++):v?o.xs.push(0):(o.xs.push(a.readShort(n,r)),r+=2)}for(o.ys=[],s=0;s<d;s++)v=0!=(32&o.flags[s]),(S=0!=(4&o.flags[s]))?(o.ys.push(v?n[r]:-n[r]),r++):v?o.ys.push(0):(o.ys.push(a.readShort(n,r)),r+=2);var p=0,_=0;for(s=0;s<d;s++)_+=o.ys[s],o.xs[s]=p+=o.xs[s],o.ys[s]=_}else{var m;o.parts=[];do{m=a.readUshort(n,r),r+=2;var x={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(x),x.glyphIndex=a.readUshort(n,r),r+=2,1&m){var w=a.readShort(n,r),P=a.readShort(n,r+=2);r+=2}else w=a.readInt8(n,r),r++,P=a.readInt8(n,r),r++;2&m?(x.m.tx=w,x.m.ty=P):(x.p1=w,x.p2=P),8&m?(x.m.a=x.m.d=a.readF2dot14(n,r),r+=2):64&m?(x.m.a=a.readF2dot14(n,r),x.m.d=a.readF2dot14(n,r+=2),r+=2):128&m&&(x.m.a=a.readF2dot14(n,r),x.m.b=a.readF2dot14(n,r+=2),x.m.c=a.readF2dot14(n,r+=2),x.m.d=a.readF2dot14(n,r+=2),r+=2)}while(32&m);if(256&m){var M=a.readUshort(n,r);for(r+=2,o.instr=[],s=0;s<M;s++)o.instr.push(n[r]),r++}}return o},i.GPOS={},i.GPOS.parse=function(t,e,a,n){return i._lctf.parse(t,e,a,n,i.GPOS.subt)},i.GPOS.subt=function(t,e,a,n){var r=i._bin,o=a,s={};if(s.fmt=r.readUshort(t,a),a+=2,1==e||2==e||3==e||7==e||8==e&&s.fmt<=2){var l=r.readUshort(t,a);a+=2,s.coverage=i._lctf.readCoverage(t,l+o)}if(1==e&&1==s.fmt){var d=r.readUshort(t,a);a+=2;var g=i._lctf.numOfOnes(d);0!=d&&(s.pos=i.GPOS.readValueRecord(t,a,d))}else if(2==e&&s.fmt>=1&&s.fmt<=2){d=r.readUshort(t,a);var T=r.readUshort(t,a+=2);a+=2,g=i._lctf.numOfOnes(d);var C=i._lctf.numOfOnes(T);if(1==s.fmt){s.pairsets=[];var S=r.readUshort(t,a);a+=2;for(var v=0;v<S;v++){var p=o+r.readUshort(t,a);a+=2;var _=r.readUshort(t,p);p+=2;for(var m=[],x=0;x<_;x++){var w=r.readUshort(t,p);p+=2,0!=d&&(N=i.GPOS.readValueRecord(t,p,d),p+=2*g),0!=T&&(G=i.GPOS.readValueRecord(t,p,T),p+=2*C),m.push({gid2:w,val1:N,val2:G})}s.pairsets.push(m)}}if(2==s.fmt){var P=r.readUshort(t,a),M=r.readUshort(t,a+=2),Z=r.readUshort(t,a+=2),ce=r.readUshort(t,a+=2);for(a+=2,s.classDef1=i._lctf.readClassDef(t,o+P),s.classDef2=i._lctf.readClassDef(t,o+M),s.matrix=[],v=0;v<Z;v++){var ie=[];for(x=0;x<ce;x++){var N=null,G=null;0!=d&&(N=i.GPOS.readValueRecord(t,a,d),a+=2*g),0!=T&&(G=i.GPOS.readValueRecord(t,a,T),a+=2*C),ie.push({val1:N,val2:G})}s.matrix.push(ie)}}}else{if(9==e&&1==s.fmt){var B=r.readUshort(t,a),le=r.readUint(t,a+=2);if(a+=4,9==n.ltype)n.ltype=B;else if(n.ltype!=B)throw"invalid extension substitution";return i.GPOS.subt(t,n.ltype,o+le)}console.debug("unsupported GPOS table LookupType",e,"format",s.fmt)}return s},i.GPOS.readValueRecord=function(t,e,a){var n=i._bin,r=[];return r.push(1&a?n.readShort(t,e):0),e+=1&a?2:0,r.push(2&a?n.readShort(t,e):0),e+=2&a?2:0,r.push(4&a?n.readShort(t,e):0),e+=4&a?2:0,r.push(8&a?n.readShort(t,e):0),e+=8&a?2:0,r},i.GSUB={},i.GSUB.parse=function(t,e,a,n){return i._lctf.parse(t,e,a,n,i.GSUB.subt)},i.GSUB.subt=function(t,e,a,n){var r=i._bin,o=a,s={};if(s.fmt=r.readUshort(t,a),a+=2,1!=e&&4!=e&&5!=e&&6!=e)return null;if(1==e||4==e||5==e&&s.fmt<=2||6==e&&s.fmt<=2){var l=r.readUshort(t,a);a+=2,s.coverage=i._lctf.readCoverage(t,o+l)}if(1==e&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=r.readShort(t,a),a+=2;else if(2==s.fmt){var d=r.readUshort(t,a);s.newg=r.readUshorts(t,a+=2,d),a+=2*s.newg.length}}else if(4==e){s.vals=[],d=r.readUshort(t,a),a+=2;for(var g=0;g<d;g++){var T=r.readUshort(t,a);a+=2,s.vals.push(i.GSUB.readLigatureSet(t,o+T))}}else if(5==e&&2==s.fmt){if(2==s.fmt){var C=r.readUshort(t,a);a+=2,s.cDef=i._lctf.readClassDef(t,o+C),s.scset=[];var S=r.readUshort(t,a);for(a+=2,g=0;g<S;g++){var v=r.readUshort(t,a);a+=2,s.scset.push(0==v?null:i.GSUB.readSubClassSet(t,o+v))}}}else if(6==e&&3==s.fmt){if(3==s.fmt){for(g=0;g<3;g++){d=r.readUshort(t,a),a+=2;for(var p=[],_=0;_<d;_++)p.push(i._lctf.readCoverage(t,o+r.readUshort(t,a+2*_)));a+=2*d,0==g&&(s.backCvg=p),1==g&&(s.inptCvg=p),2==g&&(s.ahedCvg=p)}d=r.readUshort(t,a),s.lookupRec=i.GSUB.readSubstLookupRecords(t,a+=2,d)}}else{if(7==e&&1==s.fmt){var m=r.readUshort(t,a),x=r.readUint(t,a+=2);if(a+=4,9==n.ltype)n.ltype=m;else if(n.ltype!=m)throw"invalid extension substitution";return i.GSUB.subt(t,n.ltype,o+x)}console.debug("unsupported GSUB table LookupType",e,"format",s.fmt)}return s},i.GSUB.readSubClassSet=function(t,e){var a=i._bin.readUshort,n=e,r=[],o=a(t,e);e+=2;for(var s=0;s<o;s++){var l=a(t,e);e+=2,r.push(i.GSUB.readSubClassRule(t,n+l))}return r},i.GSUB.readSubClassRule=function(t,e){var a=i._bin.readUshort,n={},r=a(t,e),o=a(t,e+=2);e+=2,n.input=[];for(var s=0;s<r-1;s++)n.input.push(a(t,e)),e+=2;return n.substLookupRecords=i.GSUB.readSubstLookupRecords(t,e,o),n},i.GSUB.readSubstLookupRecords=function(t,e,a){for(var n=i._bin.readUshort,r=[],o=0;o<a;o++)r.push(n(t,e),n(t,e+2)),e+=4;return r},i.GSUB.readChainSubClassSet=function(t,e){var a=i._bin,n=e,r=[],o=a.readUshort(t,e);e+=2;for(var s=0;s<o;s++){var l=a.readUshort(t,e);e+=2,r.push(i.GSUB.readChainSubClassRule(t,n+l))}return r},i.GSUB.readChainSubClassRule=function(t,e){for(var a=i._bin,n={},r=["backtrack","input","lookahead"],o=0;o<r.length;o++){var s=a.readUshort(t,e);1==o&&s--,n[r[o]]=a.readUshorts(t,e+=2,s),e+=2*n[r[o]].length}return s=a.readUshort(t,e),n.subst=a.readUshorts(t,e+=2,2*s),e+=2*n.subst.length,n},i.GSUB.readLigatureSet=function(t,e){var a=i._bin,n=e,r=[],o=a.readUshort(t,e);e+=2;for(var s=0;s<o;s++){var l=a.readUshort(t,e);e+=2,r.push(i.GSUB.readLigature(t,n+l))}return r},i.GSUB.readLigature=function(t,e){var a=i._bin,n={chain:[]};n.nglyph=a.readUshort(t,e);var r=a.readUshort(t,e+=2);e+=2;for(var o=0;o<r-1;o++)n.chain.push(a.readUshort(t,e)),e+=2;return n},i.head={},i.head.parse=function(t,e,a){var n=i._bin,r={};return n.readFixed(t,e),r.fontRevision=n.readFixed(t,e+=4),n.readUint(t,e+=4),n.readUint(t,e+=4),r.flags=n.readUshort(t,e+=4),r.unitsPerEm=n.readUshort(t,e+=2),r.created=n.readUint64(t,e+=2),r.modified=n.readUint64(t,e+=8),r.xMin=n.readShort(t,e+=8),r.yMin=n.readShort(t,e+=2),r.xMax=n.readShort(t,e+=2),r.yMax=n.readShort(t,e+=2),r.macStyle=n.readUshort(t,e+=2),r.lowestRecPPEM=n.readUshort(t,e+=2),r.fontDirectionHint=n.readShort(t,e+=2),r.indexToLocFormat=n.readShort(t,e+=2),r.glyphDataFormat=n.readShort(t,e+=2),e+=2,r},i.hhea={},i.hhea.parse=function(t,e,a){var n=i._bin,r={};return n.readFixed(t,e),r.ascender=n.readShort(t,e+=4),r.descender=n.readShort(t,e+=2),r.lineGap=n.readShort(t,e+=2),r.advanceWidthMax=n.readUshort(t,e+=2),r.minLeftSideBearing=n.readShort(t,e+=2),r.minRightSideBearing=n.readShort(t,e+=2),r.xMaxExtent=n.readShort(t,e+=2),r.caretSlopeRise=n.readShort(t,e+=2),r.caretSlopeRun=n.readShort(t,e+=2),r.caretOffset=n.readShort(t,e+=2),e+=2,r.metricDataFormat=n.readShort(t,e+=8),r.numberOfHMetrics=n.readUshort(t,e+=2),e+=2,r},i.hmtx={},i.hmtx.parse=function(t,e,a,n){for(var r=i._bin,o={aWidth:[],lsBearing:[]},s=0,l=0,d=0;d<n.maxp.numGlyphs;d++)d<n.hhea.numberOfHMetrics&&(s=r.readUshort(t,e),l=r.readShort(t,e+=2),e+=2),o.aWidth.push(s),o.lsBearing.push(l);return o},i.kern={},i.kern.parse=function(t,e,a,n){var r=i._bin,o=r.readUshort(t,e);if(e+=2,1==o)return i.kern.parseV1(t,e-2,a,n);var s=r.readUshort(t,e);e+=2;for(var l={glyph1:[],rval:[]},d=0;d<s;d++){a=r.readUshort(t,e+=2);var T=r.readUshort(t,e+=2)>>>8;if(0!=(T&=15))throw"unknown kern table format: "+T;e=i.kern.readFormat0(t,e+=2,l)}return l},i.kern.parseV1=function(t,e,a,n){var r=i._bin;r.readFixed(t,e);var o=r.readUint(t,e+=4);e+=4;for(var s={glyph1:[],rval:[]},l=0;l<o;l++){r.readUint(t,e);var d=r.readUshort(t,e+=4);r.readUshort(t,e+=2);var g=d>>>8;if(0!=(g&=15))throw"unknown kern table format: "+g;e=i.kern.readFormat0(t,e+=2,s)}return s},i.kern.readFormat0=function(t,e,a){var n=i._bin,r=-1,o=n.readUshort(t,e);n.readUshort(t,e+=2),n.readUshort(t,e+=2),n.readUshort(t,e+=2),e+=2;for(var s=0;s<o;s++){var l=n.readUshort(t,e),d=n.readUshort(t,e+=2),g=n.readShort(t,e+=2);e+=2,l!=r&&(a.glyph1.push(l),a.rval.push({glyph2:[],vals:[]}));var T=a.rval[a.rval.length-1];T.glyph2.push(d),T.vals.push(g),r=l}return e},i.loca={},i.loca.parse=function(t,e,a,n){var r=i._bin,o=[],s=n.head.indexToLocFormat,l=n.maxp.numGlyphs+1;if(0==s)for(var d=0;d<l;d++)o.push(r.readUshort(t,e+(d<<1))<<1);if(1==s)for(d=0;d<l;d++)o.push(r.readUint(t,e+(d<<2)));return o},i.maxp={},i.maxp.parse=function(t,e,a){var n=i._bin,r={},o=n.readUint(t,e);return r.numGlyphs=n.readUshort(t,e+=4),e+=2,65536==o&&(r.maxPoints=n.readUshort(t,e),r.maxContours=n.readUshort(t,e+=2),r.maxCompositePoints=n.readUshort(t,e+=2),r.maxCompositeContours=n.readUshort(t,e+=2),r.maxZones=n.readUshort(t,e+=2),r.maxTwilightPoints=n.readUshort(t,e+=2),r.maxStorage=n.readUshort(t,e+=2),r.maxFunctionDefs=n.readUshort(t,e+=2),r.maxInstructionDefs=n.readUshort(t,e+=2),r.maxStackElements=n.readUshort(t,e+=2),r.maxSizeOfInstructions=n.readUshort(t,e+=2),r.maxComponentElements=n.readUshort(t,e+=2),r.maxComponentDepth=n.readUshort(t,e+=2),e+=2),r},i.name={},i.name.parse=function(t,e,a){var n=i._bin,r={};n.readUshort(t,e);var o=n.readUshort(t,e+=2);n.readUshort(t,e+=2);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=e+=2,g=0;g<o;g++){var T=n.readUshort(t,e),C=n.readUshort(t,e+=2),S=n.readUshort(t,e+=2),v=n.readUshort(t,e+=2),p=n.readUshort(t,e+=2),_=n.readUshort(t,e+=2);e+=2;var m,x=l[v],w=d+12*o+_;if(0==T)m=n.readUnicode(t,w,p/2);else if(3==T&&0==C)m=n.readUnicode(t,w,p/2);else if(0==C)m=n.readASCII(t,w,p);else if(1==C)m=n.readUnicode(t,w,p/2);else if(3==C)m=n.readUnicode(t,w,p/2);else{if(1!=T)throw"unknown encoding "+C+", platformID: "+T;m=n.readASCII(t,w,p),console.debug("reading unknown MAC encoding "+C+" as ASCII")}var P="p"+T+","+S.toString(16);null==r[P]&&(r[P]={}),r[P][void 0!==x?x:v]=m,r[P]._lang=S}for(var M in r)if(null!=r[M].postScriptName&&1033==r[M]._lang)return r[M];for(var M in r)if(null!=r[M].postScriptName&&0==r[M]._lang)return r[M];for(var M in r)if(null!=r[M].postScriptName&&3084==r[M]._lang)return r[M];for(var M in r)if(null!=r[M].postScriptName)return r[M];for(var M in r){s=M;break}return console.debug("returning name table with languageID "+r[s]._lang),r[s]},i["OS/2"]={},i["OS/2"].parse=function(t,e,a){var n=i._bin.readUshort(t,e);e+=2;var r={};if(0==n)i["OS/2"].version0(t,e,r);else if(1==n)i["OS/2"].version1(t,e,r);else if(2==n||3==n||4==n)i["OS/2"].version2(t,e,r);else{if(5!=n)throw"unknown OS/2 table version: "+n;i["OS/2"].version5(t,e,r)}return r},i["OS/2"].version0=function(t,e,a){var n=i._bin;return a.xAvgCharWidth=n.readShort(t,e),a.usWeightClass=n.readUshort(t,e+=2),a.usWidthClass=n.readUshort(t,e+=2),a.fsType=n.readUshort(t,e+=2),a.ySubscriptXSize=n.readShort(t,e+=2),a.ySubscriptYSize=n.readShort(t,e+=2),a.ySubscriptXOffset=n.readShort(t,e+=2),a.ySubscriptYOffset=n.readShort(t,e+=2),a.ySuperscriptXSize=n.readShort(t,e+=2),a.ySuperscriptYSize=n.readShort(t,e+=2),a.ySuperscriptXOffset=n.readShort(t,e+=2),a.ySuperscriptYOffset=n.readShort(t,e+=2),a.yStrikeoutSize=n.readShort(t,e+=2),a.yStrikeoutPosition=n.readShort(t,e+=2),a.sFamilyClass=n.readShort(t,e+=2),a.panose=n.readBytes(t,e+=2,10),a.ulUnicodeRange1=n.readUint(t,e+=10),a.ulUnicodeRange2=n.readUint(t,e+=4),a.ulUnicodeRange3=n.readUint(t,e+=4),a.ulUnicodeRange4=n.readUint(t,e+=4),a.achVendID=[n.readInt8(t,e+=4),n.readInt8(t,e+1),n.readInt8(t,e+2),n.readInt8(t,e+3)],a.fsSelection=n.readUshort(t,e+=4),a.usFirstCharIndex=n.readUshort(t,e+=2),a.usLastCharIndex=n.readUshort(t,e+=2),a.sTypoAscender=n.readShort(t,e+=2),a.sTypoDescender=n.readShort(t,e+=2),a.sTypoLineGap=n.readShort(t,e+=2),a.usWinAscent=n.readUshort(t,e+=2),a.usWinDescent=n.readUshort(t,e+=2),e+2},i["OS/2"].version1=function(t,e,a){var n=i._bin;return e=i["OS/2"].version0(t,e,a),a.ulCodePageRange1=n.readUint(t,e),a.ulCodePageRange2=n.readUint(t,e+=4),e+4},i["OS/2"].version2=function(t,e,a){var n=i._bin;return e=i["OS/2"].version1(t,e,a),a.sxHeight=n.readShort(t,e),a.sCapHeight=n.readShort(t,e+=2),a.usDefault=n.readUshort(t,e+=2),a.usBreak=n.readUshort(t,e+=2),a.usMaxContext=n.readUshort(t,e+=2),e+2},i["OS/2"].version5=function(t,e,a){var n=i._bin;return e=i["OS/2"].version2(t,e,a),a.usLowerOpticalPointSize=n.readUshort(t,e),a.usUpperOpticalPointSize=n.readUshort(t,e+=2),e+2},i.post={},i.post.parse=function(t,e,a){var n=i._bin,r={};return r.version=n.readFixed(t,e),r.italicAngle=n.readFixed(t,e+=4),r.underlinePosition=n.readShort(t,e+=4),r.underlineThickness=n.readShort(t,e+=2),e+=2,r},null==i&&(i={}),null==i.U&&(i.U={}),i.U.codeToGlyph=function(t,e){var a=t.cmap,n=-1;if(null!=a.p0e4?n=a.p0e4:null!=a.p3e1?n=a.p3e1:null!=a.p1e0?n=a.p1e0:null!=a.p0e3&&(n=a.p0e3),-1==n)throw"no familiar platform and encoding!";var r=a.tables[n];if(0==r.format)return e>=r.map.length?0:r.map[e];if(4==r.format){for(var o=-1,s=0;s<r.endCount.length;s++)if(e<=r.endCount[s]){o=s;break}return-1==o||r.startCount[o]>e?0:65535&(0!=r.idRangeOffset[o]?r.glyphIdArray[e-r.startCount[o]+(r.idRangeOffset[o]>>1)-(r.idRangeOffset.length-o)]:e+r.idDelta[o])}if(12==r.format){if(e>r.groups[r.groups.length-1][1])return 0;for(s=0;s<r.groups.length;s++){var l=r.groups[s];if(l[0]<=e&&e<=l[1])return l[2]+(e-l[0])}return 0}throw"unknown cmap table format "+r.format},i.U.glyphToPath=function(t,e){var a={cmds:[],crds:[]};if(t.SVG&&t.SVG.entries[e]){var n=t.SVG.entries[e];return null==n?a:("string"==typeof n&&(n=i.SVG.toPath(n),t.SVG.entries[e]=n),n)}if(t.CFF){var r={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:t.CFF.Private?t.CFF.Private.defaultWidthX:0,open:!1},o=t.CFF,s=t.CFF.Private;if(o.ROS){for(var l=0;o.FDSelect[l+2]<=e;)l+=2;s=o.FDArray[o.FDSelect[l+1]].Private}i.U._drawCFF(t.CFF.CharStrings[e],r,o,s,a)}else t.glyf&&i.U._drawGlyf(e,t,a);return a},i.U._drawGlyf=function(t,e,a){var n=e.glyf[t];null==n&&(n=e.glyf[t]=i.glyf._parseGlyf(e,t)),null!=n&&(n.noc>-1?i.U._simpleGlyph(n,a):i.U._compoGlyph(n,e,a))},i.U._simpleGlyph=function(t,e){for(var a=0;a<t.noc;a++){for(var n=0==a?0:t.endPts[a-1]+1,r=t.endPts[a],o=n;o<=r;o++){var s=o==n?r:o-1,l=o==r?n:o+1,d=1&t.flags[o],g=1&t.flags[s],T=1&t.flags[l],C=t.xs[o],S=t.ys[o];if(o==n)if(d){if(!g){i.U.P.moveTo(e,C,S);continue}i.U.P.moveTo(e,t.xs[s],t.ys[s])}else g?i.U.P.moveTo(e,t.xs[s],t.ys[s]):i.U.P.moveTo(e,(t.xs[s]+C)/2,(t.ys[s]+S)/2);d?g&&i.U.P.lineTo(e,C,S):T?i.U.P.qcurveTo(e,C,S,t.xs[l],t.ys[l]):i.U.P.qcurveTo(e,C,S,(C+t.xs[l])/2,(S+t.ys[l])/2)}i.U.P.closePath(e)}},i.U._compoGlyph=function(t,e,a){for(var n=0;n<t.parts.length;n++){var r={cmds:[],crds:[]},o=t.parts[n];i.U._drawGlyf(o.glyphIndex,e,r);for(var s=o.m,l=0;l<r.crds.length;l+=2){var d=r.crds[l],g=r.crds[l+1];a.crds.push(d*s.a+g*s.b+s.tx),a.crds.push(d*s.c+g*s.d+s.ty)}for(l=0;l<r.cmds.length;l++)a.cmds.push(r.cmds[l])}},i.U._getGlyphClass=function(t,e){var a=i._lctf.getInterval(e,t);return-1==a?0:e[a+2]},i.U.getPairAdjustment=function(t,e,a){var n=0,r=!1;if(t.GPOS)for(var o=t.GPOS,s=o.lookupList,l=o.featureList,d=[],g=0;g<l.length;g++){var T=l[g];if("kern"==T.tag){r=!0;for(var C=0;C<T.tab.length;C++)if(!d[T.tab[C]]){d[T.tab[C]]=!0;for(var S=s[T.tab[C]],v=0;v<S.tabs.length;v++)if(null!=S.tabs[v]){var p,_=S.tabs[v];if((!_.coverage||-1!=(p=i._lctf.coverageIndex(_.coverage,e)))&&1!=S.ltype&&2==S.ltype){var m;if(1==_.fmt){var x=_.pairsets[p];for(g=0;g<x.length;g++)x[g].gid2==a&&(m=x[g])}else if(2==_.fmt){var w=i.U._getGlyphClass(e,_.classDef1),P=i.U._getGlyphClass(a,_.classDef2);m=_.matrix[w][P]}m&&m.val1&&m.val1[2]&&(n+=m.val1[2]),m&&m.val2&&m.val2[0]&&(n+=m.val2[0])}}}}}if(t.kern&&!r){var M=t.kern.glyph1.indexOf(e);if(-1!=M){var Z=t.kern.rval[M].glyph2.indexOf(a);-1!=Z&&(n+=t.kern.rval[M].vals[Z])}}return n},i.U._applySubs=function(t,e,a,n){for(var r=t.length-e-1,o=0;o<a.tabs.length;o++)if(null!=a.tabs[o]){var s,l=a.tabs[o];if(!l.coverage||-1!=(s=i._lctf.coverageIndex(l.coverage,t[e])))if(1==a.ltype)t[e]=1==l.fmt?t[e]+l.delta:l.newg[s];else if(4==a.ltype)for(var d=l.vals[s],g=0;g<d.length;g++){var T=d[g],C=T.chain.length;if(!(C>r)){for(var S=!0,v=0,p=0;p<C;p++){for(;-1==t[e+v+(1+p)];)v++;T.chain[p]!=t[e+v+(1+p)]&&(S=!1)}if(S){for(t[e]=T.nglyph,p=0;p<C+v;p++)t[e+p+1]=-1;break}}}else if(5==a.ltype&&2==l.fmt)for(var _=i._lctf.getInterval(l.cDef,t[e]),x=l.scset[l.cDef[_+2]],w=0;w<x.length;w++){var P=x[w],M=P.input;if(!(M.length>r)){for(S=!0,p=0;p<M.length;p++){var Z=i._lctf.getInterval(l.cDef,t[e+1+p]);if(-1==_&&l.cDef[Z+2]!=M[p]){S=!1;break}}if(S){var ce=P.substLookupRecords;for(g=0;g<ce.length;g+=2);}}}else if(6==a.ltype&&3==l.fmt){if(!i.U._glsCovered(t,l.backCvg,e-l.backCvg.length)||!i.U._glsCovered(t,l.inptCvg,e)||!i.U._glsCovered(t,l.ahedCvg,e+l.inptCvg.length))continue;var ie=l.lookupRec;for(w=0;w<ie.length;w+=2)i.U._applySubs(t,e+(_=ie[w]),n[ie[w+1]],n)}}},i.U._glsCovered=function(t,e,a){for(var n=0;n<e.length;n++)if(-1==i._lctf.coverageIndex(e[n],t[a+n]))return!1;return!0},i.U.glyphsToPath=function(t,e,a){for(var n={cmds:[],crds:[]},r=0,o=0;o<e.length;o++){var s=e[o];if(-1!=s){for(var l=o<e.length-1&&-1!=e[o+1]?e[o+1]:0,d=i.U.glyphToPath(t,s),g=0;g<d.crds.length;g+=2)n.crds.push(d.crds[g]+r),n.crds.push(d.crds[g+1]);for(a&&n.cmds.push(a),g=0;g<d.cmds.length;g++)n.cmds.push(d.cmds[g]);a&&n.cmds.push("X"),r+=t.hmtx.aWidth[s],o<e.length-1&&(r+=i.U.getPairAdjustment(t,s,l))}}return n},i.U.P={},i.U.P.moveTo=function(t,e,a){t.cmds.push("M"),t.crds.push(e,a)},i.U.P.lineTo=function(t,e,a){t.cmds.push("L"),t.crds.push(e,a)},i.U.P.curveTo=function(t,e,a,n,r,o,s){t.cmds.push("C"),t.crds.push(e,a,n,r,o,s)},i.U.P.qcurveTo=function(t,e,a,n,r){t.cmds.push("Q"),t.crds.push(e,a,n,r)},i.U.P.closePath=function(t){t.cmds.push("Z")},i.U._drawCFF=function(t,e,a,n,r){for(var o=e.stack,s=e.nStems,l=e.haveWidth,d=e.width,g=e.open,T=0,C=e.x,S=e.y,v=0,p=0,_=0,m=0,x=0,w=0,P=0,M=0,Z=0,ce=0,ie={val:0,size:0};T<t.length;){i.CFF.getCharString(t,T,ie);var N=ie.val;if(T+=ie.size,"o1"==N||"o18"==N)o.length%2!=0&&!l&&(d=o.shift()+n.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o3"==N||"o23"==N)o.length%2!=0&&!l&&(d=o.shift()+n.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o4"==N)o.length>1&&!l&&(d=o.shift()+n.nominalWidthX,l=!0),g&&i.U.P.closePath(r),S+=o.pop(),i.U.P.moveTo(r,C,S),g=!0;else if("o5"==N)for(;o.length>0;)C+=o.shift(),S+=o.shift(),i.U.P.lineTo(r,C,S);else if("o6"==N||"o7"==N)for(var G=o.length,B="o6"==N,le=0;le<G;le++){var q=o.shift();B?C+=q:S+=q,B=!B,i.U.P.lineTo(r,C,S)}else if("o8"==N||"o24"==N){G=o.length;for(var _e=0;_e+6<=G;)v=C+o.shift(),p=S+o.shift(),_=v+o.shift(),m=p+o.shift(),C=_+o.shift(),S=m+o.shift(),i.U.P.curveTo(r,v,p,_,m,C,S),_e+=6;"o24"==N&&(C+=o.shift(),S+=o.shift(),i.U.P.lineTo(r,C,S))}else{if("o11"==N)break;if("o1234"==N||"o1235"==N||"o1236"==N||"o1237"==N)"o1234"==N&&(p=S,_=(v=C+o.shift())+o.shift(),ce=m=p+o.shift(),w=m,M=S,C=(P=(x=(Z=_+o.shift())+o.shift())+o.shift())+o.shift(),i.U.P.curveTo(r,v,p,_,m,Z,ce),i.U.P.curveTo(r,x,w,P,M,C,S)),"o1235"==N&&(v=C+o.shift(),p=S+o.shift(),_=v+o.shift(),m=p+o.shift(),Z=_+o.shift(),ce=m+o.shift(),x=Z+o.shift(),w=ce+o.shift(),P=x+o.shift(),M=w+o.shift(),C=P+o.shift(),S=M+o.shift(),o.shift(),i.U.P.curveTo(r,v,p,_,m,Z,ce),i.U.P.curveTo(r,x,w,P,M,C,S)),"o1236"==N&&(v=C+o.shift(),p=S+o.shift(),_=v+o.shift(),ce=m=p+o.shift(),w=m,P=(x=(Z=_+o.shift())+o.shift())+o.shift(),M=w+o.shift(),C=P+o.shift(),i.U.P.curveTo(r,v,p,_,m,Z,ce),i.U.P.curveTo(r,x,w,P,M,C,S)),"o1237"==N&&(v=C+o.shift(),p=S+o.shift(),_=v+o.shift(),m=p+o.shift(),Z=_+o.shift(),ce=m+o.shift(),x=Z+o.shift(),w=ce+o.shift(),P=x+o.shift(),M=w+o.shift(),Math.abs(P-C)>Math.abs(M-S)?C=P+o.shift():S=M+o.shift(),i.U.P.curveTo(r,v,p,_,m,Z,ce),i.U.P.curveTo(r,x,w,P,M,C,S));else if("o14"==N){if(o.length>0&&!l&&(d=o.shift()+a.nominalWidthX,l=!0),4==o.length){var xe=o.shift(),k=o.shift(),J=o.shift(),b=o.shift(),U=i.CFF.glyphBySE(a,J),H=i.CFF.glyphBySE(a,b);i.U._drawCFF(a.CharStrings[U],e,a,n,r),e.x=xe,e.y=k,i.U._drawCFF(a.CharStrings[H],e,a,n,r)}g&&(i.U.P.closePath(r),g=!1)}else if("o19"==N||"o20"==N)o.length%2!=0&&!l&&(d=o.shift()+n.nominalWidthX),s+=o.length>>1,o.length=0,l=!0,T+=s+7>>3;else if("o21"==N)o.length>2&&!l&&(d=o.shift()+n.nominalWidthX,l=!0),S+=o.pop(),C+=o.pop(),g&&i.U.P.closePath(r),i.U.P.moveTo(r,C,S),g=!0;else if("o22"==N)o.length>1&&!l&&(d=o.shift()+n.nominalWidthX,l=!0),C+=o.pop(),g&&i.U.P.closePath(r),i.U.P.moveTo(r,C,S),g=!0;else if("o25"==N){for(;o.length>6;)C+=o.shift(),S+=o.shift(),i.U.P.lineTo(r,C,S);v=C+o.shift(),p=S+o.shift(),_=v+o.shift(),m=p+o.shift(),C=_+o.shift(),S=m+o.shift(),i.U.P.curveTo(r,v,p,_,m,C,S)}else if("o26"==N)for(o.length%2&&(C+=o.shift());o.length>0;)v=C,p=S+o.shift(),C=_=v+o.shift(),S=(m=p+o.shift())+o.shift(),i.U.P.curveTo(r,v,p,_,m,C,S);else if("o27"==N)for(o.length%2&&(S+=o.shift());o.length>0;)p=S,_=(v=C+o.shift())+o.shift(),m=p+o.shift(),C=_+o.shift(),i.U.P.curveTo(r,v,p,_,m,C,S=m);else if("o10"==N||"o29"==N){var V="o10"==N?n:a;if(0==o.length)console.debug("error: empty stack");else{var D=o.pop(),Y=V.Subrs[D+V.Bias];e.x=C,e.y=S,e.nStems=s,e.haveWidth=l,e.width=d,e.open=g,i.U._drawCFF(Y,e,a,n,r),C=e.x,S=e.y,s=e.nStems,l=e.haveWidth,d=e.width,g=e.open}}else if("o30"==N||"o31"==N){var O=o.length,R=(_e=0,"o31"==N);for(_e+=O-(G=-3&O);_e<G;)R?(p=S,_=(v=C+o.shift())+o.shift(),S=(m=p+o.shift())+o.shift(),G-_e==5?(C=_+o.shift(),_e++):C=_,R=!1):(v=C,p=S+o.shift(),_=v+o.shift(),m=p+o.shift(),C=_+o.shift(),G-_e==5?(S=m+o.shift(),_e++):S=m,R=!0),i.U.P.curveTo(r,v,p,_,m,C,S),_e+=4}else{if("o"==(N+"").charAt(0))throw console.debug("Unknown operation: "+N,t),N;o.push(N)}}}e.x=C,e.y=S,e.nStems=s,e.haveWidth=l,e.width=d,e.open=g};var h={Typr:i};return f.Typr=i,f.default=h,Object.defineProperty(f,"__esModule",{value:!0}),f}({}).Typr},function Ao(){return function(f){var i=Uint8Array,u=Uint16Array,h=Uint32Array,t=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n=function(N,G){for(var B=new u(31),le=0;le<31;++le)B[le]=G+=1<<N[le-1];var q=new h(B[30]);for(le=1;le<30;++le)for(var _e=B[le];_e<B[le+1];++_e)q[_e]=_e-B[le]<<5|le;return[B,q]},r=n(t,2),o=r[0],s=r[1];o[28]=258,s[258]=28;for(var l=n(e,0)[0],d=new u(32768),g=0;g<32768;++g){var T=(43690&g)>>>1|(21845&g)<<1;T=(61680&(T=(52428&T)>>>2|(13107&T)<<2))>>>4|(3855&T)<<4,d[g]=((65280&T)>>>8|(255&T)<<8)>>>1}var C=function(N,G,B){for(var le=N.length,q=0,_e=new u(G);q<le;++q)++_e[N[q]-1];var xe,k=new u(G);for(q=0;q<G;++q)k[q]=k[q-1]+_e[q-1]<<1;if(B){xe=new u(1<<G);var J=15-G;for(q=0;q<le;++q)if(N[q])for(var b=q<<4|N[q],U=G-N[q],H=k[N[q]-1]++<<U,V=H|(1<<U)-1;H<=V;++H)xe[d[H]>>>J]=b}else for(xe=new u(le),q=0;q<le;++q)N[q]&&(xe[q]=d[k[N[q]-1]++]>>>15-N[q]);return xe},S=new i(288);for(g=0;g<144;++g)S[g]=8;for(g=144;g<256;++g)S[g]=9;for(g=256;g<280;++g)S[g]=7;for(g=280;g<288;++g)S[g]=8;var v=new i(32);for(g=0;g<32;++g)v[g]=5;var p=C(S,9,1),_=C(v,5,1),m=function(N){for(var G=N[0],B=1;B<N.length;++B)N[B]>G&&(G=N[B]);return G},x=function(N,G,B){var le=G/8|0;return(N[le]|N[le+1]<<8)>>(7&G)&B},w=function(N,G){var B=G/8|0;return(N[B]|N[B+1]<<8|N[B+2]<<16)>>(7&G)},P=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],M=function(N,G,B){var le=new Error(G||P[N]);if(le.code=N,Error.captureStackTrace&&Error.captureStackTrace(le,M),!B)throw le;return le},ce=new i(0),ie="undefined"!=typeof TextDecoder&&new TextDecoder;try{ie.decode(ce,{stream:!0})}catch(N){}return f.convert_streams=function(N){var G=new DataView(N),B=0;function le(){var re=G.getUint16(B);return B+=2,re}function q(){var re=G.getUint32(B);return B+=4,re}function _e(re){$.setUint16(be,re),be+=2}function xe(re){$.setUint32(be,re),be+=4}for(var k={signature:q(),flavor:q(),length:q(),numTables:le(),reserved:le(),totalSfntSize:q(),majorVersion:le(),minorVersion:le(),metaOffset:q(),metaLength:q(),metaOrigLength:q(),privOffset:q(),privLength:q()},J=0;Math.pow(2,J)<=k.numTables;)J++;J--;for(var b=16*Math.pow(2,J),U=16*k.numTables-b,H=12,V=[],D=0;D<k.numTables;D++)V.push({tag:q(),offset:q(),compLength:q(),origLength:q(),origChecksum:q()}),H+=16;var Y,O=new Uint8Array(12+16*V.length+V.reduce(function(re,K){return re+K.origLength+4},0)),R=O.buffer,$=new DataView(R),be=0;return xe(k.flavor),_e(k.numTables),_e(b),_e(J),_e(U),V.forEach(function(re){xe(re.tag),xe(re.origChecksum),xe(H),xe(re.origLength),re.outOffset=H,(H+=re.origLength)%4!=0&&(H+=4-H%4)}),V.forEach(function(re){var Pe=N.slice(re.offset,re.offset+re.compLength);if(re.compLength!=re.origLength){var Oe=new Uint8Array(re.origLength);!function(N,G,B){var le=N.length;if(!le||B&&!B.l&&le<5)return G||new i(0);var q=!G||B,_e=!B||B.i;B||(B={}),G||(G=new i(3*le));var xe,ve,We,ke,k=function(ve){var We=G.length;if(ve>We){var ke=new i(Math.max(2*We,ve));ke.set(G),G=ke}},J=B.f||0,b=B.p||0,U=B.b||0,H=B.l,V=B.d,D=B.m,Y=B.n,O=8*le;do{if(!H){B.f=J=x(N,b,1);var R=x(N,b+1,3);if(b+=3,!R){var $=N[(ae=((xe=b)/8|0)+(7&xe&&1)+4)-4]|N[ae-3]<<8,be=ae+$;if(be>le){_e&&M(0);break}q&&k(U+$),G.set(N.subarray(ae,be),U),B.b=U+=$,B.p=b=8*be;continue}if(1==R)H=p,V=_,D=9,Y=5;else if(2==R){var re=x(N,b,31)+257,K=x(N,b+10,15)+4,Pe=re+x(N,b+5,31)+1;b+=14;for(var Oe=new i(Pe),ue=new i(19),me=0;me<K;++me)ue[a[me]]=x(N,b+3*me,7);b+=3*K;var we=m(ue),L=(1<<we)-1,pe=C(ue,we,1);for(me=0;me<Pe;){var ae,I=pe[x(N,b,L)];if(b+=15&I,(ae=I>>>4)<16)Oe[me++]=ae;else{var Be=0,se=0;for(16==ae?(se=3+x(N,b,3),b+=2,Be=Oe[me-1]):17==ae?(se=3+x(N,b,7),b+=3):18==ae&&(se=11+x(N,b,127),b+=7);se--;)Oe[me++]=Be}}var fe=Oe.subarray(0,re),ne=Oe.subarray(re);D=m(fe),Y=m(ne),H=C(fe,D,1),V=C(ne,Y,1)}else M(1);if(b>O){_e&&M(0);break}}q&&k(U+131072);for(var Ue=(1<<D)-1,Ge=(1<<Y)-1,oe=b;;oe=b){var Ce=(Be=H[w(N,b)&Ue])>>>4;if((b+=15&Be)>O){_e&&M(0);break}if(Be||M(2),Ce<256)G[U++]=Ce;else{if(256==Ce){oe=b,H=null;break}var De=Ce-254;if(Ce>264){var Le=t[me=Ce-257];De=x(N,b,(1<<Le)-1)+o[me],b+=Le}var He=V[w(N,b)&Ge],Ke=He>>>4;if(He||M(3),b+=15&He,ne=l[Ke],Ke>3&&(Le=e[Ke],ne+=w(N,b)&(1<<Le)-1,b+=Le),b>O){_e&&M(0);break}q&&k(U+131072);for(var Te=U+De;U<Te;U+=4)G[U]=G[U-ne],G[U+1]=G[U+1-ne],G[U+2]=G[U+2-ne],G[U+3]=G[U+3-ne];U=Te}}B.l=H,B.p=oe,B.b=U,H&&(J=1,B.m=D,B.d=V,B.n=Y)}while(!J);U==G.length||(ve=G,(null==(We=0)||We<0)&&(We=0),(null==(ke=U)||ke>ve.length)&&(ke=ve.length),new(ve instanceof u?u:ve instanceof h?h:i)(ke-We).set(ve.subarray(We,ke)))}(new Uint8Array(Pe,2),Oe)}else Oe=new Uint8Array(Pe);O.set(Oe,re.outOffset);var ue=0;(H=re.outOffset+re.origLength)%4!=0&&(ue=4-H%4),O.set(new Uint8Array(ue).buffer,re.outOffset+re.origLength),Y=H+ue}),R.slice(0,Y)},Object.defineProperty(f,"__esModule",{value:!0}),f}({}).convert_streams},function Eo(f,i){const u={M:2,L:2,Q:4,C:6,Z:0},h={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};let s;function l(m){if(!s){const x={R:2,L:1,D:4,C:16,U:32,T:8};s=new Map;for(let w in h){let P=0;h[w].split(",").forEach(M=>{let[Z,ce]=M.split("+");Z=parseInt(Z,36),ce=ce?parseInt(ce,36):0,s.set(P+=Z,x[w]);for(let ie=ce;ie--;)s.set(++P,x[w])})}}return s.get(m)||32}const S=[null,"isol","init","fina","medi"];function v(m){const x=new Uint8Array(m.length);let w=32,P=1,M=-1;for(let Z=0;Z<m.length;Z++){const ce=m.codePointAt(Z);let ie=0|l(ce),N=1;8&ie||(21&w?22&ie?(N=3,(1===P||3===P)&&x[M]++):33&ie&&(2===P||4===P)&&x[M]--:34&w&&(2===P||4===P)&&x[M]--,P=x[Z]=N,w=ie,M=Z,ce>65535&&Z++)}return x}return function(x){const w=new Uint8Array(x,0,4),P=f._bin.readASCII(w,0,4);if("wOFF"===P)x=i(x);else if("wOF2"===P)throw new Error("woff2 fonts not supported");return function _(m){const x=Object.create(null),w={unitsPerEm:m.head.unitsPerEm,ascender:m.hhea.ascender,descender:m.hhea.descender,forEachGlyph(P,M,Z,ce){let ie=0;const N=1/w.unitsPerEm*M,G=function p(m,x){const w=[];for(let M=0;M<x.length;M++){const Z=x.codePointAt(M);Z>65535&&M++,w.push(f.U.codeToGlyph(m,Z))}const P=m.GSUB;if(P){const{lookupList:M,featureList:Z}=P;let ce;const ie=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,N=[];Z.forEach(G=>{if(ie.test(G.tag))for(let B=0;B<G.tab.length;B++){if(N[G.tab[B]])continue;N[G.tab[B]]=!0;const le=M[G.tab[B]],q=/^(isol|init|fina|medi)$/.test(G.tag);q&&!ce&&(ce=v(x));for(let _e=0;_e<w.length;_e++)(!ce||!q||S[ce[_e]]===G.tag)&&f.U._applySubs(w,_e,le,M)}})}return w}(m,P);let B=0,le=-1;return G.forEach((q,_e)=>{if(-1!==q){let xe=x[q];if(!xe){const{cmds:k,crds:J}=f.U.glyphToPath(m,q);let H,V,D,Y,b="",U=0;for(let O=0,R=k.length;O<R;O++){const $=u[k[O]];b+=k[O];for(let be=1;be<=$;be++)b+=(be>1?",":"")+J[U++]}if(J.length){H=V=1/0,D=Y=-1/0;for(let O=0,R=J.length;O<R;O+=2){let $=J[O],be=J[O+1];$<H&&(H=$),be<V&&(V=be),$>D&&(D=$),be>Y&&(Y=be)}}else H=D=V=Y=0;xe=x[q]={index:q,advanceWidth:m.hmtx.aWidth[q],xMin:H,yMin:V,xMax:D,yMax:Y,path:b,pathCommandCount:k.length}}-1!==le&&(ie+=f.U.getPairAdjustment(m,le,q)*N),ce.call(null,xe,ie,B),xe.advanceWidth&&(ie+=xe.advanceWidth*N),Z&&(ie+=Z*M),le=q}B+=P.codePointAt(B)>65535?2:1}),ie}};return w}(f.parse(x)[0])}}],init:(f,i,u)=>u(f(),i())}),Wt={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},to=new ge.Ilk;let Ur=!1;function Ht(){return(self.performance||Date).now()}const gr=Object.create(null);function ro(f,i){Ur=!0,f=function Br(f,i){for(let u in i)i.hasOwnProperty(u)&&(f[u]=i[u]);return f}({},f);const u=Ht();if(f.font=function Ro(f){return nr||(nr="undefined"==typeof document?{}:document.createElement("a")),nr.href=f,nr.href}(f.font||Wt.defaultFontURL),f.text=""+f.text,f.sdfGlyphSize=f.sdfGlyphSize||Wt.sdfGlyphSize,null!=f.colorRanges){let l={};for(let d in f.colorRanges)if(f.colorRanges.hasOwnProperty(d)){let g=f.colorRanges[d];"number"!=typeof g&&(g=to.set(g).getHex()),l[d]=g}f.colorRanges=l}Object.freeze(f);const{textureWidth:h,sdfExponent:t}=Wt,{sdfGlyphSize:e}=f,a=h/e*4;let n=gr[e];if(!n){const l=document.createElement("canvas");l.width=h,l.height=256*e/a,n=gr[e]={glyphCount:0,sdfGlyphSize:e,sdfCanvas:l,sdfTexture:new ge.xEZ(l,void 0,void 0,void 0,ge.wem,ge.wem),contextLost:!1,glyphsByFont:new Map},n.sdfTexture.generateMipmaps=!1,function no(f){const i=f.sdfCanvas;i.addEventListener("webglcontextlost",u=>{console.log("Context Lost",u),u.preventDefault(),f.contextLost=!0}),i.addEventListener("webglcontextrestored",u=>{console.log("Context Restored",u),f.contextLost=!1;const h=[];f.glyphsByFont.forEach(t=>{t.forEach(e=>{h.push(oo(e,f,!0))})}),it.all(h).then(()=>{ao(f),f.sdfTexture.needsUpdate=!0})})}(n)}const{sdfTexture:r,sdfCanvas:o}=n;let s=n.glyphsByFont.get(f.font);s||n.glyphsByFont.set(f.font,s=new Map),Io(f).then(l=>{const{glyphIds:d,glyphPositions:g,fontSize:T,unitsPerEm:C,timings:S}=l,v=[],p=new Float32Array(4*d.length),_=T/C;let m=0,x=0;const w=Ht();d.forEach((ie,N)=>{let G=s.get(ie);if(!G){const{path:_e,pathBounds:xe}=l.glyphData[ie],k=Math.max(xe[2]-xe[0],xe[3]-xe[1])/e*(Wt.sdfMargin*e+.5),J=n.glyphCount++;s.set(ie,G={path:_e,atlasIndex:J,sdfViewBox:[xe[0]-k,xe[1]-k,xe[2]+k,xe[3]+k]}),v.push(G)}const{sdfViewBox:B}=G,le=g[x++],q=g[x++];p[m++]=le+B[0]*_,p[m++]=q+B[1]*_,p[m++]=le+B[2]*_,p[m++]=q+B[3]*_,d[N]=G.atlasIndex}),S.quads=(S.quads||0)+(Ht()-w);const P=Ht();S.sdf={};const M=o.height,Z=Math.ceil(n.glyphCount/a),ce=Math.pow(2,Math.ceil(Math.log2(Z*e)));ce>M&&(console.info(`Increasing SDF texture size ${M}->${ce}`),Do(o,h,ce),r.dispose()),it.all(v.map(ie=>oo(ie,n,f.gpuAccelerateSDF).then(({timing:N})=>{S.sdf[ie.atlasIndex]=N}))).then(()=>{v.length&&!n.contextLost&&(ao(n),r.needsUpdate=!0),S.sdfTotal=Ht()-P,S.total=Ht()-u,i(Object.freeze({parameters:f,sdfTexture:r,sdfGlyphSize:e,sdfExponent:t,glyphBounds:p,glyphAtlasIndices:d,glyphColors:l.glyphColors,caretPositions:l.caretPositions,caretHeight:l.caretHeight,chunkedBounds:l.chunkedBounds,ascender:l.ascender,descender:l.descender,lineHeight:l.lineHeight,topBaseline:l.topBaseline,blockBounds:l.blockBounds,visibleBounds:l.visibleBounds,timings:l.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),l.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");const[ie,N,G,B]=l.blockBounds;return[G-ie,B-N]}}))})}),it.all([]).then(()=>{n.contextLost||function Po(f){f._warm||(hr.webgl.isSupported(f),f._warm=!0)}(o)})}function oo({path:f,atlasIndex:i,sdfViewBox:u},{sdfGlyphSize:h,sdfCanvas:t,contextLost:e},a){if(e)return Promise.resolve({timing:-1});const{textureWidth:n,sdfExponent:r}=Wt,o=Math.max(u[2]-u[0],u[3]-u[1]),s=Math.floor(i/4);return function zo(f,i,u,h,t,e,a,n,r,o,s=!0){return s?Go(f,i,u,h,t,e,a,n,r,o).then(null,l=>($r||(console.warn("WebGL SDF generation failed, falling back to JS",l),$r=!0),eo(f,i,u,h,t,e,a,n,r,o))):eo(f,i,u,h,t,e,a,n,r,o)}(h,h,f,u,o,r,t,s%(n/h)*h,Math.floor(s/(n/h))*h,i%4,a)}let nr;function ao(f){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:i,sdfTexture:u}=f,{width:h,height:t}=i,e=f.sdfCanvas.getContext("webgl");let a=u.image.data;(!a||a.length!==h*t*4)&&(a=new Uint8Array(h*t*4),u.image={width:h,height:t,data:a},u.flipY=!1,u.isDataTexture=!0),e.readPixels(0,0,h,t,e.RGBA,e.UNSIGNED_BYTE,a)}}const Io=_t({name:"Typesetter",dependencies:[_t({name:"Typesetter",dependencies:[Wt,Lo,function Bo(f,i,u){const{defaultFontURL:h}=u,t=Object.create(null),e=1/0,a=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,n=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function o(v,p){v||(v=h);let _=t[v];_?_.pending?_.pending.push(p):p(_):(t[v]={pending:[p]},function r(v,p){!function _(){const m=x=>{console.error(`Failure loading font ${v}${v===h?"":"; trying fallback"}`,x),v!==h&&(v=h,_())};try{const x=new XMLHttpRequest;x.open("get",v,!0),x.responseType="arraybuffer",x.onload=function(){if(x.status>=400)m(new Error(x.statusText));else if(x.status>0)try{const w=f(x.response);p(w)}catch(w){m(w)}},x.onerror=m,x.send()}catch(x){m(x)}}()}(v,m=>{let x=t[v].pending;t[v]=m,x.forEach(w=>w(m))}))}function s({text:v="",font:p=h,sdfGlyphSize:_=64,fontSize:m=1,letterSpacing:x=0,lineHeight:w="normal",maxWidth:P=e,direction:M,textAlign:Z="left",textIndent:ce=0,whiteSpace:ie="normal",overflowWrap:N="normal",anchorX:G=0,anchorY:B=0,includeCaretPositions:le=!1,chunkedBoundsSize:q=8192,colorRanges:_e=null},xe,k=!1){const J=T(),b={fontLoad:0,typesetting:0};v.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),v=v.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),m=+m,x=+x,P=+P,w=w||"normal",ce=+ce,o(p,U=>{const H=isFinite(P);let V=null,D=null,Y=null,O=null,R=null,$=null,be=null,re=0,K=0,Pe="nowrap"!==ie;const{ascender:Oe,descender:ue,unitsPerEm:me}=U;b.fontLoad=T()-J;const we=T(),L=m/me;"normal"===w&&(w=(Oe-ue)/me);const pe=((w*=m)-(Oe-ue)*L)/2,ae=-(Oe*L+pe),I=Math.min(w,(Oe-ue)*L),Be=(Oe+ue)/2*L-I/2;let se=ce,fe=new C;const ne=[fe];U.forEachGlyph(v,m,x,(oe,Ce,De)=>{const Le=v.charAt(De),He=oe.advanceWidth*L,Ke=fe.count;let Te;if("isEmpty"in oe||(oe.isWhitespace=!!Le&&/\s/.test(Le),oe.canBreakAfter=!!Le&&n.test(Le),oe.isEmpty=oe.xMin===oe.xMax||oe.yMin===oe.yMax||a.test(Le)),!oe.isWhitespace&&!oe.isEmpty&&K++,Pe&&H&&!oe.isWhitespace&&Ce+He+se>P&&Ke){if(fe.glyphAt(Ke-1).glyphObj.canBreakAfter)Te=new C,se=-Ce;else for(let We=Ke;We--;){if(0===We&&"break-word"===N){Te=new C,se=-Ce;break}if(fe.glyphAt(We).glyphObj.canBreakAfter){Te=fe.splitAt(We+1);const ke=Te.glyphAt(0).x;se-=ke;for(let ft=Te.count;ft--;)Te.glyphAt(ft).x-=ke;break}}Te&&(fe.isSoftWrapped=!0,fe=Te,ne.push(fe),re=P)}let ve=fe.glyphAt(fe.count);ve.glyphObj=oe,ve.x=Ce+se,ve.width=He,ve.charIndex=De,"\n"===Le&&(fe=new C,ne.push(fe),se=-(Ce+He+x*m)+ce)}),ne.forEach(oe=>{for(let Ce=oe.count;Ce--;){let{glyphObj:De,x:Le,width:He}=oe.glyphAt(Ce);if(!De.isWhitespace)return oe.width=Le+He,void(oe.width>re&&(re=oe.width))}});let Ue=0,Ge=0;if(G&&("number"==typeof G?Ue=-G:"string"==typeof G&&(Ue=-re*("left"===G?0:"center"===G?.5:"right"===G?1:d(G)))),B)if("number"==typeof B)Ge=-B;else if("string"==typeof B){let oe=ne.length*w;Ge="top"===B?0:"top-baseline"===B?-ae:"middle"===B?oe/2:"bottom"===B?oe:"bottom-baseline"===B?oe-pe+ue*L:d(B)*oe}if(!k){const oe=i.getEmbeddingLevels(v,M);V=new Uint16Array(K),D=new Float32Array(2*K),Y={},$=[e,e,-e,-e],be=[];let Ce=ae;le&&(R=new Float32Array(3*v.length)),_e&&(O=new Uint8Array(3*K));let Ke,Te,De=0,Le=-1,He=-1;if(ne.forEach((ve,We)=>{let{count:ke,width:ft}=ve;if(ke>0){let Ye=0;for(let Ve=ke;Ve--&&ve.glyphAt(Ve).glyphObj.isWhitespace;)Ye++;let Qe=0,Xt=0;if("center"===Z)Qe=(re-ft)/2;else if("right"===Z)Qe=re-ft;else if("justify"===Z&&ve.isSoftWrapped){let Ve=0;for(let Ae=ke-Ye;Ae--;)ve.glyphAt(Ae).glyphObj.isWhitespace&&Ve++;Xt=(re-ft)/Ve}if(Xt||Qe){let Ve=0;for(let Ae=0;Ae<ke;Ae++){let tt=ve.glyphAt(Ae);const dt=tt.glyphObj;tt.x+=Qe+Ve,0!==Xt&&dt.isWhitespace&&Ae<ke-Ye&&(Ve+=Xt,tt.width+=Xt)}}const pr=i.getReorderSegments(v,oe,ve.glyphAt(0).charIndex,ve.glyphAt(ve.count-1).charIndex);for(let Ve=0;Ve<pr.length;Ve++){const[Ae,tt]=pr[Ve];let dt=1/0,je=-1/0;for(let nt=0;nt<ke;nt++)if(ve.glyphAt(nt).charIndex>=Ae){let Ot=nt,rt=nt;for(;rt<ke;rt++){let qe=ve.glyphAt(rt);if(qe.charIndex>tt)break;rt<ke-Ye&&(dt=Math.min(dt,qe.x),je=Math.max(je,qe.x+qe.width))}for(let qe=Ot;qe<rt;qe++){const ht=ve.glyphAt(qe);ht.x=je-(ht.x+ht.width-dt)}break}}let et;const mr=Ve=>et=Ve;for(let Ve=0;Ve<ke;Ve++){let Ae=ve.glyphAt(Ve);et=Ae.glyphObj;const tt=et.index,dt=1&oe.levels[Ae.charIndex];if(dt){const je=i.getMirroredCharacter(v[Ae.charIndex]);je&&U.forEachGlyph(je,0,0,mr)}if(le){const{charIndex:je}=Ae,nt=Ae.x+Ue,Ot=Ae.x+Ae.width+Ue;R[3*je]=dt?Ot:nt,R[3*je+1]=dt?nt:Ot,R[3*je+2]=Ce+Be+Ge;const rt=je-Le;rt>1&&g(R,Le,rt),Le=je}if(_e){const{charIndex:je}=Ae;for(;je>He;)He++,_e.hasOwnProperty(He)&&(Te=_e[He])}if(!et.isWhitespace&&!et.isEmpty){const je=De++;Y[tt]||(Y[tt]={path:et.path,pathBounds:[et.xMin,et.yMin,et.xMax,et.yMax]});const nt=Ae.x+Ue,Ot=Ce+Ge;D[2*je]=nt,D[2*je+1]=Ot;const rt=nt+et.xMin*L,qe=Ot+et.yMin*L,ht=nt+et.xMax*L,Yt=Ot+et.yMax*L;rt<$[0]&&($[0]=rt),qe<$[1]&&($[1]=qe),ht>$[2]&&($[2]=ht),Yt>$[3]&&($[3]=Yt),je%q==0&&(Ke={start:je,end:je,rect:[e,e,-e,-e]},be.push(Ke)),Ke.end++;const Ct=Ke.rect;if(rt<Ct[0]&&(Ct[0]=rt),qe<Ct[1]&&(Ct[1]=qe),ht>Ct[2]&&(Ct[2]=ht),Yt>Ct[3]&&(Ct[3]=Yt),V[je]=tt,_e){const Qt=3*je;O[Qt]=Te>>16&255,O[Qt+1]=Te>>8&255,O[Qt+2]=255&Te}}}}Ce-=w}),R){const ve=v.length-Le;ve>1&&g(R,Le,ve)}}b.typesetting=T()-we,xe({glyphIds:V,glyphPositions:D,glyphData:Y,caretPositions:R,caretHeight:I,glyphColors:O,chunkedBounds:be,fontSize:m,unitsPerEm:me,ascender:Oe*L,descender:ue*L,lineHeight:w,topBaseline:ae,blockBounds:[Ue,Ge-ne.length*w,Ue+re,Ge],visibleBounds:$,timings:b})})}function d(v){let p=v.match(/^([\d.]+)%$/),_=p?parseFloat(p[1]):NaN;return isNaN(_)?0:_/100}function g(v,p,_){const m=v[3*p],w=v[3*p+2],P=(v[3*p+1]-m)/_;for(let M=0;M<_;M++){const Z=3*(p+M);v[Z]=m+P*M,v[Z+1]=m+P*(M+1),v[Z+2]=w}}function T(){return(self.performance||Date).now()}function C(){this.data=[]}const S=["glyphObj","x","width","charIndex"];return C.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/S.length)},glyphAt(v){let p=C.flyweight;return p.data=this.data,p.index=v,p},splitAt(v){let p=new C;return p.data=this.data.splice(v*S.length),p}},C.flyweight=S.reduce((v,p,_,m)=>(Object.defineProperty(v,p,{get(){return this.data[this.index*S.length+_]},set(x){this.data[this.index*S.length+_]=x}}),v),{data:null,index:0}),{typeset:s,measure:function l(v,p){s(v,_=>{const[m,x,w,P]=_.blockBounds;p({width:w-m,height:P-x})},{metricsOnly:!0})},loadFont:o}},function pt(){return function(i){var u={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},h={},t={};h.L=1,t[1]="L",Object.keys(u).forEach(function(L,pe){h[L]=1<<pe+1,t[h[L]]=L}),Object.freeze(h);var e=h.LRI|h.RLI|h.FSI,a=h.L|h.R|h.AL,n=h.B|h.S|h.WS|h.ON|h.FSI|h.LRI|h.RLI|h.PDI,r=h.BN|h.RLE|h.LRE|h.RLO|h.LRO|h.PDF,o=h.S|h.WS|h.B|e|h.PDI|r,s=null;function d(L){return function l(){if(!s){s=new Map;var L=function(ae){if(u.hasOwnProperty(ae)){var I=0;u[ae].split(",").forEach(function(Be){var se=Be.split("+"),fe=se[0],ne=se[1];fe=parseInt(fe,36),ne=ne?parseInt(ne,36):0,s.set(I+=fe,h[ae]);for(var Ue=0;Ue<ne;Ue++)s.set(++I,h[ae])})}};for(var pe in u)L(pe)}}(),s.get(L.codePointAt(0))||h.L}var S,v,p;function C(L,pe){var fe,I=0,Be=new Map,se=pe&&new Map;return L.split(",").forEach(function ne(Ue){if(-1!==Ue.indexOf("+"))for(var Ge=+Ue;Ge--;)ne(fe);else{fe=Ue;var oe=Ue.split(">"),Ce=oe[0],De=oe[1];Ce=String.fromCodePoint(I+=parseInt(Ce,36)),De=String.fromCodePoint(I+=parseInt(De,36)),Be.set(Ce,De),pe&&se.set(De,Ce)}}),{map:Be,reverseMap:se}}function _(){if(!S){var L=C("14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",!0);S=L.map,v=L.reverseMap,p=C("6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye",!1).map}}function m(L){return _(),S.get(L)||null}function x(L){return _(),v.get(L)||null}function w(L){return _(),p.get(L)||null}var re,P=h.L,M=h.R,Z=h.EN,ce=h.ES,ie=h.ET,N=h.AN,G=h.CS,B=h.B,le=h.S,q=h.ON,_e=h.BN,xe=h.NSM,k=h.AL,J=h.LRO,b=h.RLO,U=h.LRE,H=h.RLE,V=h.PDF,D=h.LRI,Y=h.RLI,O=h.FSI,R=h.PDI;function Pe(L){return function K(){if(!re){var L=C("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),pe=L.map;L.reverseMap.forEach(function(I,Be){pe.set(Be,I)}),re=pe}}(),re.get(L)||null}function ue(L,pe,ae,I){var Be=L.length;ae=Math.max(0,null==ae?0:+ae),I=Math.min(Be-1,null==I?Be-1:+I);var se=[];return pe.paragraphs.forEach(function(fe){var ne=Math.max(ae,fe.start),Ue=Math.min(I,fe.end);if(ne<Ue){for(var Ge=pe.levels.slice(ne,Ue+1),oe=Ue;oe>=ne&&d(L[oe])&o;oe--)Ge[oe]=fe.level;for(var Ce=fe.level,De=1/0,Le=0;Le<Ge.length;Le++){var He=Ge[Le];He>Ce&&(Ce=He),He<De&&(De=1|He)}for(var Ke=Ce;Ke>=De;Ke--)for(var Te=0;Te<Ge.length;Te++)if(Ge[Te]>=Ke){for(var ve=Te;Te+1<Ge.length&&Ge[Te+1]>=Ke;)Te++;Te>ve&&se.push([ve+ae,Te+ae])}}}),se}function we(L,pe,ae,I){for(var Be=ue(L,pe,ae,I),se=[],fe=0;fe<L.length;fe++)se[fe]=fe;return Be.forEach(function(ne){for(var Ge=ne[1],oe=se.slice(ne[0],Ge+1),Ce=oe.length;Ce--;)se[Ge-Ce]=oe[Ce]}),se}return i.closingToOpeningBracket=x,i.getBidiCharType=d,i.getBidiCharTypeName=function g(L){return t[d(L)]},i.getCanonicalBracket=w,i.getEmbeddingLevels=function $(L,pe){for(var I=new Uint32Array(L.length),Be=0;Be<L.length;Be++)I[Be]=d(L[Be]);var se=new Map;function fe(ot,Nt){var ct=I[ot];I[ot]=Nt,se.set(ct,se.get(ct)-1),ct&n&&se.set(n,se.get(n)-1),se.set(Nt,(se.get(Nt)||0)+1),Nt&n&&se.set(n,(se.get(n)||0)+1)}for(var ne=new Uint8Array(L.length),Ue=new Map,Ge=[],oe=null,Ce=0;Ce<L.length;Ce++)oe||Ge.push(oe={start:Ce,end:L.length-1,level:"rtl"===pe?1:"ltr"===pe?0:gn(Ce,!1)}),I[Ce]&B&&(oe.end=Ce,oe=null);for(var De=H|U|b|J|e|R|V|B,Le=function(ot){return ot+(1&ot?1:2)},He=function(ot){return ot+(1&ot?2:1)},Ke=0;Ke<Ge.length;Ke++){var Te=[{_level:(oe=Ge[Ke]).level,_override:0,_isolate:0}],ve=void 0,We=0,ke=0,ft=0;se.clear();for(var Ye=oe.start;Ye<=oe.end;Ye++){var Qe=I[Ye];if(ve=Te[Te.length-1],se.set(Qe,(se.get(Qe)||0)+1),Qe&n&&se.set(n,(se.get(n)||0)+1),Qe&De)if(Qe&(H|U)){ne[Ye]=ve._level;var Xt=(Qe===H?He:Le)(ve._level);Xt<=125&&!We&&!ke?Te.push({_level:Xt,_override:0,_isolate:0}):We||ke++}else if(Qe&(b|J)){ne[Ye]=ve._level;var pr=(Qe===b?He:Le)(ve._level);pr<=125&&!We&&!ke?Te.push({_level:pr,_override:Qe&b?M:P,_isolate:0}):We||ke++}else if(Qe&e){Qe&O&&(Qe=1===gn(Ye+1,!0)?Y:D),ne[Ye]=ve._level,ve._override&&fe(Ye,ve._override);var et=(Qe===Y?He:Le)(ve._level);et<=125&&0===We&&0===ke?(ft++,Te.push({_level:et,_override:0,_isolate:1,_isolInitIndex:Ye})):We++}else if(Qe&R){if(We>0)We--;else if(ft>0){for(ke=0;!Te[Te.length-1]._isolate;)Te.pop();var mr=Te[Te.length-1]._isolInitIndex;null!=mr&&(Ue.set(mr,Ye),Ue.set(Ye,mr)),Te.pop(),ft--}ne[Ye]=(ve=Te[Te.length-1])._level,ve._override&&fe(Ye,ve._override)}else Qe&V?(0===We&&(ke>0?ke--:!ve._isolate&&Te.length>1&&(Te.pop(),ve=Te[Te.length-1])),ne[Ye]=ve._level):Qe&B&&(ne[Ye]=oe.level);else ne[Ye]=ve._level,ve._override&&Qe!==_e&&fe(Ye,ve._override)}for(var Ve=[],Ae=null,tt=oe.start;tt<=oe.end;tt++){var dt=I[tt];if(!(dt&r)){var je=ne[tt],nt=dt&e,Ot=dt===R;Ae&&je===Ae._level?(Ae._end=tt,Ae._endsWithIsolInit=nt):Ve.push(Ae={_start:tt,_end:tt,_level:je,_startsWithPDI:Ot,_endsWithIsolInit:nt})}}for(var rt=[],qe=0;qe<Ve.length;qe++){var ht=Ve[qe];if(!ht._startsWithPDI||ht._startsWithPDI&&!Ue.has(ht._start)){for(var Yt=[Ae=ht],Ct=void 0;Ae&&Ae._endsWithIsolInit&&null!=(Ct=Ue.get(Ae._end));)for(var Qt=qe+1;Qt<Ve.length;Qt++)if(Ve[Qt]._start===Ct){Yt.push(Ae=Ve[Qt]);break}for(var ar=[],uo=0;uo<Yt.length;uo++)for(var Jo=Yt[uo],fo=Jo._start;fo<=Jo._end;fo++)ar.push(fo);for(var bn=ne[ar[0]],Ko=oe.level,zr=ar[0]-1;zr>=0;zr--)if(!(I[zr]&r)){Ko=ne[zr];break}var ho=ar[ar.length-1],yn=ne[ho],Zo=oe.level;if(!(I[ho]&e))for(var Gr=ho+1;Gr<=oe.end;Gr++)if(!(I[Gr]&r)){Zo=ne[Gr];break}rt.push({_seqIndices:ar,_sosType:Math.max(Ko,bn)%2?M:P,_eosType:Math.max(Zo,yn)%2?M:P})}}for(var go=0;go<rt.length;go++){var po=rt[go],he=po._seqIndices,vr=po._sosType,_n=po._eosType;if(se.get(xe))for(var Pr=0;Pr<he.length;Pr++){var qo=he[Pr];if(I[qo]&xe){for(var mo=vr,Dr=Pr-1;Dr>=0;Dr--)if(!(I[he[Dr]]&r)){mo=I[he[Dr]];break}fe(qo,mo&(e|R)?q:mo)}}if(se.get(Z))for(var kr=0;kr<he.length;kr++){var $o=he[kr];if(I[$o]&Z)for(var Ar=kr-1;Ar>=-1;Ar--){var en=-1===Ar?vr:I[he[Ar]];if(en&a){en===k&&fe($o,N);break}}}if(se.get(k))for(var vo=0;vo<he.length;vo++){var tn=he[vo];I[tn]&k&&fe(tn,M)}if(se.get(ce)||se.get(G))for(var br=1;br<he.length-1;br++){var bo=he[br];if(I[bo]&(ce|G)){for(var sr=0,yo=0,_o=br-1;_o>=0&&(sr=I[he[_o]])&r;_o--);for(var So=br+1;So<he.length&&(yo=I[he[So]])&r;So++);sr===yo&&(I[bo]===ce?sr===Z:sr&(Z|N))&&fe(bo,sr)}}if(se.get(Z))for(var yr=0;yr<he.length;yr++)if(I[he[yr]]&Z){for(var Er=yr-1;Er>=0&&I[he[Er]]&(ie|r);Er--)fe(he[Er],Z);for(var Lr=yr+1;Lr<he.length&&I[he[Lr]]&(ie|r);Lr++)fe(he[Lr],Z)}if(se.get(ie)||se.get(ce)||se.get(G))for(var _r=0;_r<he.length;_r++){var rn=he[_r];if(I[rn]&(ie|ce|G)){fe(rn,q);for(var Rr=_r-1;Rr>=0&&I[he[Rr]]&r;Rr--)fe(he[Rr],q);for(var Ir=_r+1;Ir<he.length&&I[he[Ir]]&r;Ir++)fe(he[Ir],q)}}if(se.get(Z))for(var xo=0,on=vr;xo<he.length;xo++){var nn=he[xo],Co=I[nn];Co&Z?on===P&&fe(nn,P):Co&a&&(on=Co)}if(se.get(n)){for(var Sr=M|Z|N,an=Sr|P,Vr=[],lr=[],cr=0;cr<he.length;cr++)if(I[he[cr]]&n){var xr=L[he[cr]],sn=void 0;if(null!==m(xr)){if(!(lr.length<63))break;lr.push({char:xr,seqIndex:cr})}else if(null!==(sn=x(xr)))for(var Cr=lr.length-1;Cr>=0;Cr--){var To=lr[Cr].char;if(To===sn||To===x(w(xr))||m(w(To))===xr){Vr.push([lr[Cr].seqIndex,cr]),lr.length=Cr;break}}}Vr.sort(function(ot,Nt){return ot[0]-Nt[0]});for(var No=0;No<Vr.length;No++){for(var ln=Vr[No],Tr=ln[0],jr=ln[1],cn=!1,Tt=0,wo=Tr+1;wo<jr;wo++){var Mo=he[wo];if(I[Mo]&an){cn=!0;var un=I[Mo]&Sr?M:P;if(un===ur(Mo)){Tt=un;break}}}if(cn&&!Tt){Tt=vr;for(var Fo=Tr-1;Fo>=0;Fo--){var Wr=he[Fo];if(I[Wr]&an){var fn=I[Wr]&Sr?M:P;Tt=fn!==ur(Wr)?fn:ur(Wr);break}}}if(Tt){if(I[he[Tr]]=I[he[jr]]=Tt,Tt!==ur(he[Tr]))for(var Nr=Tr+1;Nr<he.length;Nr++)if(!(I[he[Nr]]&r)){d(L[he[Nr]])&xe&&(I[he[Nr]]=Tt);break}if(Tt!==ur(he[jr]))for(var wr=jr+1;wr<he.length;wr++)if(!(I[he[wr]]&r)){d(L[he[wr]])&xe&&(I[he[wr]]=Tt);break}}}for(var Jt=0;Jt<he.length;Jt++)if(I[he[Jt]]&n){for(var dn=Jt,Oo=Jt,Uo=vr,Mr=Jt-1;Mr>=0;Mr--){if(!(I[he[Mr]]&r)){Uo=I[he[Mr]]&Sr?M:P;break}dn=Mr}for(var hn=_n,Fr=Jt+1;Fr<he.length;Fr++){if(!(I[he[Fr]]&(n|r))){hn=I[he[Fr]]&Sr?M:P;break}Oo=Fr}for(var Hr=dn;Hr<=Oo;Hr++)I[he[Hr]]=Uo===hn?Uo:ur(he[Hr]);Jt=Oo}}}for(var gt=oe.start;gt<=oe.end;gt++){var Xr=I[gt];if(1&ne[gt]?Xr&(P|Z|N)&&ne[gt]++:Xr&M?ne[gt]++:Xr&(N|Z)&&(ne[gt]+=2),Xr&r&&(ne[gt]=0===gt?oe.level:ne[gt-1]),gt===oe.end||d(L[gt])&(le|B))for(var Yr=gt;Yr>=0&&d(L[Yr])&o;Yr--)ne[Yr]=oe.level}}return{levels:ne,paragraphs:Ge};function gn(ot,Nt){for(var ct=ot;ct<L.length;ct++){var Kt=I[ct];if(Kt&(M|k))return 1;if(Kt&(B|P)||Nt&&Kt===R)return 0;if(Kt&e){var pn=Cn(ct);ct=-1===pn?L.length:pn}}return 0}function Cn(ot){for(var Nt=1,ct=ot+1;ct<L.length;ct++){var Kt=I[ct];if(Kt&B)break;if(Kt&R){if(0==--Nt)return ct}else Kt&e&&Nt++}return-1}function ur(ot){return 1&ne[ot]?M:P}},i.getMirroredCharacter=Pe,i.getMirroredCharactersMap=function Oe(L,pe,ae,I){var Be=L.length;ae=Math.max(0,null==ae?0:+ae),I=Math.min(Be-1,null==I?Be-1:+I);for(var se=new Map,fe=ae;fe<=I;fe++)if(1&pe[fe]){var ne=Pe(L[fe]);null!==ne&&se.set(fe,ne)}return se},i.getReorderSegments=ue,i.getReorderedIndices=we,i.getReorderedString=function me(L,pe,ae,I){var Be=we(L,pe,ae,I),se=[].concat(L);return Be.forEach(function(fe,ne){se[ne]=(1&pe.levels[fe]?Pe(L[fe]):null)||L[fe]}),se.join("")},i.openingToClosingBracket=m,Object.defineProperty(i,"__esModule",{value:!0}),i}({})}],init(f,i,u,h){const{defaultFontURL:t}=f;return u(i,h(),{defaultFontURL:t})}}),St],init:(f,i)=>function(u){const h=new i;return f.typeset(u,h.resolve),h},getTransferables(f){const i=[f.glyphPositions.buffer,f.glyphIds.buffer];return f.caretPositions&&i.push(f.caretPositions.buffer),f.glyphColors&&i.push(f.glyphColors.buffer),i}}),jo=(()=>{const f={},h="aTroikaGlyphIndex";class e extends ge.L5s{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new ge.aLr,this.boundingBox=new ge.ZzF}computeBoundingSphere(){}computeBoundingBox(){}setSide(o){const s=this.getIndex().count;this.setDrawRange(o===ge._Li?s/2:0,o===ge.ehD?s:s/2)}set detail(o){if(o!==this._detail){this._detail=o,("number"!=typeof o||o<1)&&(o=1);let s=function i(r){let o=f[r];if(!o){const s=new ge.BKK(1,1,r,r),l=s.clone(),d=s.attributes,g=l.attributes,T=new ge.u9r,C=d.uv.count;for(let S=0;S<C;S++)g.position.array[3*S]*=-1,g.normal.array[3*S+2]*=-1;["position","normal","uv"].forEach(S=>{T.setAttribute(S,new ge.a$l([...d[S].array,...g[S].array],d[S].itemSize))}),T.setIndex([...s.index.array,...l.index.array.map(S=>S+C)]),T.translate(.5,.5,0),o=f[r]=T}return o}(o);["position","normal","uv"].forEach(l=>{this.attributes[l]=s.attributes[l].clone()}),this.setIndex(s.getIndex().clone())}}get detail(){return this._detail}set curveRadius(o){o!==this._curveRadius&&(this._curveRadius=o,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(o,s,l,d,g){a(this,"aTroikaGlyphBounds",o,4),a(this,h,s,1),a(this,"aTroikaGlyphColor",g,3),this._blockBounds=l,this._chunkedBounds=d,n(this,s.length),this._updateBounds()}_updateBounds(){const o=this._blockBounds;if(o){const{curveRadius:s,boundingBox:l}=this;if(s){const{PI:d,floor:g,min:T,max:C,sin:S,cos:v}=Math,p=d/2,_=2*d,m=Math.abs(s),x=o[0]/m,w=o[2]/m,P=g((x+p)/_)!==g((w+p)/_)?-m:T(S(x)*m,S(w)*m),M=g((x-p)/_)!==g((w-p)/_)?m:C(S(x)*m,S(w)*m),Z=g((x+d)/_)!==g((w+d)/_)?2*m:C(m-v(x)*m,m-v(w)*m);l.min.set(P,o[1],s<0?-Z:0),l.max.set(M,o[3],s<0?0:Z)}else l.min.set(o[0],o[1],0),l.max.set(o[2],o[3],0);l.getBoundingSphere(this.boundingSphere)}}applyClipRect(o){let s=this.getAttribute(h).count,l=this._chunkedBounds;if(l)for(let d=l.length;d--;){s=l[d].end;let g=l[d].rect;if(g[1]<o.w&&g[3]>o.y&&g[0]<o.z&&g[2]>o.x)break}n(this,s)}}function a(r,o,s,l){const d=r.getAttribute(o);s?d&&d.array.length===s.length?(d.array.set(s),d.needsUpdate=!0):(r.setAttribute(o,new ge.lb7(s,l)),delete r._maxInstanceCount,r.dispose()):d&&r.deleteAttribute(o)}function n(r,o){r[r.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=o}return e.prototype.setAttribute||(e.prototype.setAttribute=function(r,o){return this.attributes[r]=o,this}),e})(),Q=(()=>{const f=new ge.vBJ({color:16777215,side:ge.ehD,transparent:!0}),i=8421504,u=new ge.yGw,h=new ge.Pa4,t=new ge.Pa4,e=[],a=new ge.Pa4,n="+x+y";function r(v){return Array.isArray(v)?v[0]:v}let o=()=>{const v=new ge.Kj0(new ge.BKK(1,1),f);return o=()=>v,v},s=()=>{const v=new ge.Kj0(new ge.BKK(1,1,32,1),f);return s=()=>v,v};const l={type:"syncstart"},d={type:"synccomplete"},g=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],T=g.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class C extends ge.Kj0{constructor(){super(new jo,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=i,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=n,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(p){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(p):(this._isSyncing=!0,this.dispatchEvent(l),ro({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},_=>{this._isSyncing=!1,this._textRenderInfo=_,this.geometry.updateGlyphs(_.glyphBounds,_.glyphAtlasIndices,_.blockBounds,_.chunkedBounds,_.glyphColors);const m=this._queuedSyncs;m&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{m.forEach(x=>x&&x())})),this.dispatchEvent(d),p&&p()})))}onBeforeRender(p,_,m,x,w,P){this.sync(),w.isTroikaTextMaterial&&this._prepareForRender(w),w._hadOwnSide=w.hasOwnProperty("side"),this.geometry.setSide(w._actualSide=w.side),w.side=ge.Wl3}onAfterRender(p,_,m,x,w,P){w._hadOwnSide?w.side=w._actualSide:delete w.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let p=this._derivedMaterial;const _=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=f.clone());if((!p||p.baseMaterial!==_)&&(p=this._derivedMaterial=function c(f){const i=F(f,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ge.FM8},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new ge.Ltg(0,0,0,0)},uTroikaClipRect:{value:new ge.Ltg(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ge.FM8},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ge.Ilk},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new ge.Vkp},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaOutlineOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  \n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  \n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n",fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter({vertexShader:u,fragmentShader:h}){let t=/\buniform\s+vec3\s+diffuse\b/;return t.test(h)&&(h=h.replace(t,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),t.test(u)||(u=u.replace(zt,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:u,fragmentShader:h}}});return i.transparent=!0,Object.defineProperties(i,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),i}(_),_.addEventListener("dispose",function m(){_.removeEventListener("dispose",m),p.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let m=p._outlineMtl;return m||(m=p._outlineMtl=Object.create(p,{id:{value:p.id+.1}}),m.isTextOutlineMaterial=!0,m.depthWrite=!1,m.map=null,p.addEventListener("dispose",function x(){p.removeEventListener("dispose",x),m.dispose()})),[m,p]}return p}set material(p){p&&p.isTroikaTextMaterial?(this._derivedMaterial=p,this._baseMaterial=p.baseMaterial):this._baseMaterial=p}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(p){this.geometry.detail=p}get curveRadius(){return this.geometry.curveRadius}set curveRadius(p){this.geometry.curveRadius=p}get customDepthMaterial(){return r(this.material).getDepthMaterial()}get customDistanceMaterial(){return r(this.material).getDistanceMaterial()}_prepareForRender(p){const _=p.isTextOutlineMaterial,m=p.uniforms,x=this.textRenderInfo;if(x){const{sdfTexture:M,blockBounds:Z}=x;m.uTroikaSDFTexture.value=M,m.uTroikaSDFTextureSize.value.set(M.image.width,M.image.height),m.uTroikaSDFGlyphSize.value=x.sdfGlyphSize,m.uTroikaSDFExponent.value=x.sdfExponent,m.uTroikaTotalBounds.value.fromArray(Z),m.uTroikaUseGlyphColors.value=!_&&!!x.glyphColors;let G,B,le,ce=0,ie=0,N=0,q=0,_e=0;if(_){let{outlineWidth:k,outlineOffsetX:J,outlineOffsetY:b,outlineBlur:U,outlineOpacity:H}=this;ce=this._parsePercent(k)||0,ie=Math.max(0,this._parsePercent(U)||0),G=H,q=this._parsePercent(J)||0,_e=this._parsePercent(b)||0}else N=Math.max(0,this._parsePercent(this.strokeWidth)||0),N&&(le=this.strokeColor,m.uTroikaStrokeColor.value.set(null==le?i:le),B=this.strokeOpacity,null==B&&(B=1)),G=this.fillOpacity;m.uTroikaDistanceOffset.value=ce,m.uTroikaPositionOffset.value.set(q,_e),m.uTroikaBlurRadius.value=ie,m.uTroikaStrokeWidth.value=N,m.uTroikaStrokeOpacity.value=B,m.uTroikaFillOpacity.value=null==G?1:G,m.uTroikaCurveRadius.value=this.curveRadius||0;let xe=this.clipRect;if(xe&&Array.isArray(xe)&&4===xe.length)m.uTroikaClipRect.value.fromArray(xe);else{const k=100*(this.fontSize||.1);m.uTroikaClipRect.value.set(Z[0]-k,Z[1]-k,Z[2]+k,Z[3]+k)}this.geometry.applyClipRect(m.uTroikaClipRect.value)}m.uTroikaSDFDebug.value=!!this.debugSDF,p.polygonOffset=!!this.depthOffset,p.polygonOffsetFactor=p.polygonOffsetUnits=this.depthOffset||0;const w=_?this.outlineColor||0:this.color;if(null==w)delete p.color;else{const M=p.hasOwnProperty("color")?p.color:p.color=new ge.Ilk;(w!==M._input||"object"==typeof w)&&M.set(M._input=w)}let P=this.orientation||n;if(P!==p._orientation){let M=m.uTroikaOrient.value;P=P.replace(/[^-+xyz]/g,"");let Z=P!==n&&P.match(/^([-+])([xyz])([-+])([xyz])$/);if(Z){let[,ce,ie,N,G]=Z;h.set(0,0,0)[ie]="-"===ce?1:-1,t.set(0,0,0)[G]="-"===N?-1:1,u.lookAt(a,h.cross(t),t),M.setFromMatrix4(u)}else M.identity();p._orientation=P}}_parsePercent(p){if("string"==typeof p){let _=p.match(/^(-?[\d.]+)%$/),m=_?parseFloat(_[1]):NaN;p=(isNaN(m)?0:m/100)*this.fontSize}return p}localPositionToTextCoords(p,_=new ge.FM8){_.copy(p);const m=this.curveRadius;return m&&(_.x=Math.atan2(p.x,Math.abs(m)-Math.abs(p.z))*Math.abs(m)),_}worldPositionToTextCoords(p,_=new ge.FM8){return h.copy(p),this.localPositionToTextCoords(this.worldToLocal(h),_)}raycast(p,_){const{textRenderInfo:m,curveRadius:x}=this;if(m){const w=m.blockBounds,P=x?s():o(),M=P.geometry,{position:Z,uv:ce}=M.attributes;for(let ie=0;ie<ce.count;ie++){let N=w[0]+ce.getX(ie)*(w[2]-w[0]);const G=w[1]+ce.getY(ie)*(w[3]-w[1]);let B=0;x&&(B=x-Math.cos(N/x)*x,N=Math.sin(N/x)*x),Z.setXYZ(ie,N,G,B)}M.boundingSphere=this.geometry.boundingSphere,M.boundingBox=this.geometry.boundingBox,P.matrixWorld=this.matrixWorld,P.material.side=this.material.side,e.length=0,P.raycast(p,e);for(let ie=0;ie<e.length;ie++)e[ie].object=this,_.push(e[ie])}}copy(p){const _=this.geometry;return super.copy(p),this.geometry=_,T.forEach(m=>{this[m]=p[m]}),this}clone(){return(new this.constructor).copy(this)}}g.forEach(v=>{const p="_private_"+v;Object.defineProperty(C.prototype,v,{get(){return this[p]},set(_){_!==this[p]&&(this[p]=_,this._needsSync=!0)}})});let S=!1;return Object.defineProperty(C.prototype,"anchor",{get(){return this._deprecated_anchor},set(v){this._deprecated_anchor=v,S||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),S=!0),Array.isArray(v)?(this.anchorX=100*(+v[0]||0)+"%",this.anchorY=100*(+v[1]||0)+"%"):this.anchorX=this.anchorY=0}}),C})();var rr=X(4911),ir=X(5648);const so=["text",""],lo=function(f){return{textMesh:f}};function co(f,i){if(1&f&&j.GkF(0,2),2&f){const u=j.oxw();j.Q6J("ngTemplateOutlet",u.content.templateRef)("ngTemplateOutletContext",j.VKq(2,lo,u.instance))}}let Xo=(()=>{class f{constructor(u){this.templateRef=u}static ngTemplateContextGuard(u,h){return!0}}return f.\u0275fac=function(u){return new(u||f)(j.Y36(j.Rgc))},f.\u0275dir=j.lG2({type:f,selectors:[["ng-template","ngt-soba-text-content",""]]}),f})(),Yo=(()=>{class f extends ee.Fq{constructor(){super(...arguments),this.beforeRender=new j.vpe,this.sync=new j.vpe,this.init=this.effect((0,wt.z)((0,kt.Q)(Mt.Z),(0,ee.oe)(()=>{const u=this.get(h=>h.material);return u&&(this.textMesh.value.material=ee.is.ref(u)?u.value:u,this.textMesh.value.sync()),(u||this.commonMaterial)&&delete this.textMesh.value.color,()=>{this.textMesh.value.dispose()}}))),this.preloadFont=this.effect((0,E.b)(()=>{const{font:u,characters:h}=this.get();u&&h&&function io({font:f,characters:i,sdfGlyphSize:u},h){ro({font:f,sdfGlyphSize:u,text:Array.isArray(i)?i.join("\n"):""+i},h)}({font:u,characters:h})}))}set text(u){this.set({text:u})}set characters(u){this.set({characters:u})}set fontSize(u){this.set({fontSize:(0,ee.su)(u)})}set maxWidth(u){this.set({maxWidth:(0,ee.su)(u)})}set lineHeight(u){this.set({lineHeight:(0,ee.su)(u)})}set letterSpacing(u){this.set({letterSpacing:(0,ee.su)(u)})}set textAlign(u){this.set({textAlign:u})}set font(u){this.set({font:u})}set anchorX(u){this.set({anchorX:u})}set anchorY(u){this.set({anchorY:u})}set clipRect(u){this.set({clipRect:u})}set depthOffset(u){this.set({depthOffset:(0,ee.su)(u)})}set direction(u){this.set({direction:u})}set overflowWrap(u){this.set({overflowWrap:u})}set whiteSpace(u){this.set({whiteSpace:u})}set outlineWidth(u){this.set({outlineWidth:(0,ee.su)(u,u)})}set outlineOffsetX(u){this.set({outlineOffsetX:(0,ee.su)(u,u)})}set outlineOffsetY(u){this.set({outlineOffsetY:(0,ee.su)(u,u)})}set outlineBlur(u){this.set({outlineBlur:(0,ee.su)(u,u)})}set outlineColor(u){this.set({outlineColor:u})}set outlineOpacity(u){this.set({outlineOpacity:(0,ee.su)(u)})}set strokeWidth(u){this.set({strokeWidth:(0,ee.su)(u,u)})}set strokeColor(u){this.set({strokeColor:u})}set strokeOpacity(u){this.set({strokeOpacity:(0,ee.su)(u)})}set fillOpacity(u){this.set({fillOpacity:(0,ee.su)(u)})}set debugSDF(u){this.set({debugSDF:(0,ee.Ig)(u)})}set material(u){this.set({material:u})}get textMesh(){return this.get(u=>u.textMesh)}preInit(){this.set(u=>({textMesh:new ee.Rl(new Q),anchorX:u.anchorX||"center",anchorY:u.anchorY||"middle",text:u.text||""}))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.preloadFont(this.select(this.select(u=>u.fonts),this.select(u=>u.characters)))}),this.onCanvasReady(this.store.ready$,()=>{this.init()})}postSetOptions(u){const h=this.store.get(t=>t.invalidate);u.sync(()=>{h(),this.sync.observed&&this.sync.emit(u)})}get optionFields(){return Object.assign(Object.assign({},super.optionFields),{text:!1,characters:!0,fontSize:!0,maxWidth:!0,lineHeight:!0,letterSpacing:!0,textAlign:!0,font:!0,anchorX:!1,anchorY:!1,clipRect:!0,depthOffset:!0,direction:!0,overflowWrap:!0,whiteSpace:!0,outlineWidth:!0,outlineOffsetX:!0,outlineOffsetY:!0,outlineBlur:!0,outlineColor:!0,outlineOpacity:!0,strokeWidth:!0,strokeColor:!0,strokeOpacity:!0,fillOpacity:!0,debugSDF:!0})}}return f.\u0275fac=function(){let i;return function(h){return(i||(i=j.n5z(f)))(h||f)}}(),f.\u0275cmp=j.Xpm({type:f,selectors:[["ngt-soba-text","text",""]],contentQueries:function(u,h,t){if(1&u&&(j.Suo(t,Xo,5),j.Suo(t,ee.hZ,5)),2&u){let e;j.iGM(e=j.CRH())&&(h.content=e.first),j.iGM(e=j.CRH())&&(h.commonMaterial=e.first)}},inputs:{text:"text",characters:"characters",fontSize:"fontSize",maxWidth:"maxWidth",lineHeight:"lineHeight",letterSpacing:"letterSpacing",textAlign:"textAlign",font:"font",anchorX:"anchorX",anchorY:"anchorY",clipRect:"clipRect",depthOffset:"depthOffset",direction:"direction",overflowWrap:"overflowWrap",whiteSpace:"whiteSpace",outlineWidth:"outlineWidth",outlineOffsetX:"outlineOffsetX",outlineOffsetY:"outlineOffsetY",outlineBlur:"outlineBlur",outlineColor:"outlineColor",outlineOpacity:"outlineOpacity",strokeWidth:"strokeWidth",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",fillOpacity:"fillOpacity",debugSDF:"debugSDF",material:"material"},outputs:{beforeRender:"beforeRender",sync:"sync"},features:[j._Bn([(0,ee.Hm)(f,i=>i.textMesh)]),j.qOj],attrs:so,decls:2,vars:4,consts:[[3,"object","ngtObjectInputs","ngtObjectOutputs","beforeRender"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(u,h){1&u&&(j.TgZ(0,"ngt-primitive",0),j.NdJ("beforeRender",function(e){return h.beforeRender.emit(e)}),j.YNc(1,co,1,4,"ng-container",1),j.qZA()),2&u&&(j.Q6J("object",h.textMesh)("ngtObjectInputs",h)("ngtObjectOutputs",h),j.xp6(1),j.Q6J("ngIf",h.content))},directives:[rr.U,ir.V,$e.O5,$e.tP],encapsulation:2,changeDetection:0}),f})(),Qo=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=j.oAB({type:f}),f.\u0275inj=j.cJS({imports:[[Dt.v,$e.ez,ee.y2]]}),f})()}}]);